<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Blog | hwchiu learning note</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://hwchiu.com/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://hwchiu.com/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://hwchiu.com/page/9"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="Blog | hwchiu learning note"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://hwchiu.com/page/9"><link data-rh="true" rel="alternate" href="https://hwchiu.com/page/9" hreflang="en"><link data-rh="true" rel="alternate" href="https://hwchiu.com/page/9" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/rss.xml" title="hwchiu learning note RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="hwchiu learning note Atom Feed"><link rel="stylesheet" href="/assets/css/styles.d69aff92.css">
<link rel="preload" href="/assets/js/runtime~main.a31dc44e.js" as="script">
<link rel="preload" href="/assets/js/main.934da69d.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Hwchiu" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="Hwchiu" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">HWCHIU 學習筆記</b></a><a class="navbar__item navbar__link" href="/about">我是誰</a><a class="navbar__item navbar__link" href="/">短篇筆記</a><a class="navbar__item navbar__link" href="/tags">短篇筆記-分類</a><a class="navbar__item navbar__link" href="/docs/category/2023">長篇技術文</a><a class="navbar__item navbar__link" href="/docs/tags">長篇技術文-分類</a><a class="navbar__item navbar__link" href="/course">線上課程</a><a class="navbar__item navbar__link" href="/public_sharing">演講紀錄</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/hwchiu/docusaurus-blog" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">All posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2023/10/09/sed-rename">[MacOS ]隨手筆記 Sed 與 Rename 的使用</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2023/10/08/docusaurus-link-active">Docusaurus 使用 blog mode 後連結一直反白的問題</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/07/11/reading-notes-65">閱讀筆記: 「SRE 的工作介绍」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/06/29/reading-notes-64">閱讀筆記: 「DevOps is a failure」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/06/27/reading-notes-63">閱讀筆記: 「面試人生 - 設計一個簡易的分散式 Job Scheduler」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/06/23/reading-notes-62">閱讀筆記: 「Cloudflare 06/21 災後報告」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/06/15/reading-notes-61">閱讀筆記: 「啟動 container 直接 kernel panic 的 bug」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/06/13/reading-notes-60">閱讀筆記: 「分散式系統上的常見網路謬誤」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/06/09/reading-notes-59">閱讀筆記: 「為什麼有些工程師不相信 Best Practices 」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/06/06/reading-notes-58">閱讀筆記: 「使用 StressChaos 的經驗來學習 Pod Memory 使用情況」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/06/03/reading-notes-57">閱讀筆記: 「/proc/meminfo 與 free 指令的內容比較」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/06/01/reading-notes-56">閱讀筆記: 「goss, 一個簡易且迅速的 server 驗證工具」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/05/30/reading-notes-55">閱讀筆記: 「如何寫出有意義的討論訊息 」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/05/27/reading-notes-54">閱讀筆記: 「如何提供專業 Code Review 意見」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/05/25/reading-notes-53">閱讀筆記: 「Mizu, 一套用來檢視 Kubernetes Traffic 的視覺化工具」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/05/23/reading-notes-52">閱讀筆記: 「Tetragon, 基於 eBPF 的 Kubernetes 資安管理工具」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/05/20/reading-notes-51">閱讀筆記: 「Datree, Kubernetes Configuration 檢查工具」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/05/11/reading-notes-50">閱讀筆記: 「基於 eBPF 的 ServiceMesh」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/05/09/reading-notes-49">閱讀筆記: 「提升 DevOps 技術的免費書籍」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/05/06/reading-notes-48">閱讀筆記: 「新手閱讀，我踩過的 Terraform 各種雷」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/05/04/reading-notes-47">閱讀筆記: 「容器的除錯之路，遇到 Permission Denied 該怎麼辦」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/05/02/reading-notes-46">閱讀筆記: 「成為軟體架構師的閱讀之路」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/04/29/reading-notes-45">閱讀筆記: 「使用 serverless 5年後的心酸經驗談」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/04/27/reading-notes-44">閱讀筆記: 「istio 下因為YAML 與 Go template 結合產生的 CVE」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/04/25/reading-notes-43">閱讀筆記: 「三座獨立 k8s cluster 還是一個跨三個地區的 k8s cluster ?」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/04/20/reading-notes-41">閱讀筆記: 「DevOps 的 2022 學習之路」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/04/18/reading-notes-40">閱讀筆記: 「強化 Kubernetes 叢集的必備工具」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/04/15/reading-notes-39">閱讀筆記: 「你真的有正確使用 SSH 嗎?」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/04/13/reading-notes-38">閱讀筆記: 「透過 Kubernetes Event-Driver Autoscaler(KEDA) 來根據各種指標動態擴充容器」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/04/11/reading-notes-37">閱讀筆記: 「升級 Kubernetes 1.22 的注意事項」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/04/06/reading-notes-36">閱讀筆記: 「kubectl delete 的行為跟 docker delete 完全不同」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/04/04/reading-notes-35">閱讀筆記: 「Dockerfile 中透過 COPY --chomd 比透過 RUN chomd 可以省下更多空間」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/03/30/reading-notes-34">閱讀筆記: 「軟體工程師你真的工作的很開心嗎??」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/03/28/reading-notes-33">閱讀筆記: 「如何於 Docker 環境中運行 rootless 模式」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/03/25/reading-notes-32">閱讀筆記: 「一個用來管理 Kubernetes 開源工具的開源工具」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/03/23/reading-notes-31">閱讀筆記: 「為什麼 3A 大作的遊戲室都不愛喜歡使用 STL」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/03/21/reading-notes-30">閱讀筆記: 「Terraform 生態下的五個相關輔助工具」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/03/18/reading-notes-29">閱讀筆記: 「Facebook 內的文化特別之處」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/03/16/reading-notes-28">閱讀筆記: 「Package Maintainers 應該要具備的資安概念」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/03/13/reading-notes-27">閱讀筆記: 「如何判別到底要不要使用 Service Mesh」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/03/11/reading-notes-26">閱讀筆記: 「透過 Helm 與 Terraform 來自動 Re-new Cloudflare origin CA」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/03/07/reading-notes-25">閱讀筆記: 「20年工程師生涯教會我的 20 件事情」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/03/04/reading-notes-24">閱讀筆記: 「Kubernetes 紀錄片 」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/03/02/reading-notes-23">閱讀筆記: 「Golang 原始碼的的版本控制歷史」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/02/28/reading-notes-22">閱讀筆記: 「大家總是喜歡誇大自己的工作時數」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/02/25/reading-notes-21">閱讀筆記: 「ClickHouse 與 Elasticsearch 的比較」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/02/23/reading-notes-20">閱讀筆記: 「Paypal 如何調整 Kubernetes 讓其規模達到四千節點，20萬個 Pod」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/02/21/reading-notes-19">閱讀筆記: 「macOS 的 fsync 實作其實跟大家想像的完全不同 」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/02/18/reading-notes-18">閱讀筆記: 「 取代 Docker Desktop 的高效率開發環境」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/02/16/reading-notes-17">閱讀筆記: 「 Kubernetes 四種不同開發環境的比較」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/02/14/reading-notes-16">閱讀筆記: 「 談談遷移應用程式到 Kubernetes 內的失敗經驗談」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/02/11/reading-notes-15">閱讀筆記: 「GitHub 上常常看到的奇妙 commit 到底是什麼？」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/02/09/reading-notes-14">閱讀筆記: 「透過一點小技巧讓你的 Makefile 有一個更好的 Help說明」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/02/07/reading-notes-13">閱讀筆記: 「視覺化系統內 iptables 規則」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/02/04/reading-notes-12"></a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/02/02/reading-notes-11">閱讀筆記: 「如何使用 jq 讓你的 kubectl更為強大」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/01/27/reading-notes-10">閱讀筆記: 「PwnKit, 長達 12 年可以讓一般使用者輕鬆變成 Root 的 CVE」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/01/24/reading-notes-9">閱讀筆記: 「Linux 5.17 將使用 BLAKE2s 來替代 SAH1 來達到更安全更快速的隨機亂數產生器」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/01/21/reading-notes-8">閱讀筆記: 「Kubernetes 內透過 DNS-01 處理 wildcard TLS 的兩三事」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/01/19/reading-notes-7">閱讀筆記: 「透過 Crossplane 與 ArgoCD 來達成應用程式與基礎建設的 GitOps 部署方式」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/01/17/reading-notes-6">閱讀筆記: 「The pains of GitOps 1.0」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/01/11/reading-notes-5">閱讀筆記: 「NPM 的 colors modules 打亂一堆人...」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/01/10/reading-notes-4">閱讀筆記: 「2021年回顧，因為 DB 的效能的爭論所以我女友跟我分手了....」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/01/09/reading-notes-3">閱讀筆記: 「使用 OpenKruise v1.0 提供更進階的 workload 部署與升級」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/01/07/reading-notes-2">閱讀筆記: 「透過 Kubefarm 來自動化幫實體機器打造基於 Kubernetes in Kubernetes 的 Kubernetes 環境」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/01/04/reading-notes-1">閱讀筆記: 「Meta 如何打造一個供多團隊使用的 SLI/SLO 設定與觀測平台」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/01/03/reading-notes">閱讀筆記: 「多年工作經驗總是搞砸電話面試， why ?」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/12/29/system-dating-app">系統設計文，探討交友app背後的設計理念</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/12/29/2021-review">2021-年度回顧</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/12/27/cloud-pattern-ambassador">[Cloud Design Pattern] - Ambassador 模式</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/12/25/stop-python-36">是時候停止使用 python 3.6</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/12/22/software-experience">工作20 餘年的軟體架構經驗談</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/12/21/docker-shell-exec">Dockerfile 內 Shell/Exec 的用法差異</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/12/19/bash-trap">Bash 下要如何處理 Signal</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/12/13/infra-mistakes">Infrastructure 各種踩雷經驗</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/12/12/docker-build-anti-pattern">建置 Container Image 中的 Anti-Patterns</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/12/11/log4j-cve">又一個 0-day...</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/12/10/reading-note-21">閱讀筆記: 「三個加強 Kubernetes 服務穩定性的經驗」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/12/08/reading-note-20">閱讀筆記: 「DNS 5 秒 Dealy 的緣由」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/12/06/reading-note-19">閱讀筆記: 「Kubernetes Resource Limit/Request 誤用造成的錯誤」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/12/03/reading-note-18">閱讀筆記: 「Container Image 的儲存挑戰」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/12/01/reading-note-17">閱讀筆記: 「使用 Open Policy Agent 來保護 Ingress 的誤用」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/11/30/reading-note-16">閱讀筆記: 「SCP 工具的注意事項」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/11/28/reading-note-15">閱讀筆記: 「使用 k3s Rancher Vault and ArgoCD 來實作 GitOps」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/11/26/reading-note-14">閱讀筆記: 「本地開發 Kubernetes 的各種選擇」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/11/25/reading-note-13">閱讀筆記: 「SO_REUSEPORT 提昇 Nginx 效能」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/11/24/reading-note-12">閱讀筆記: 「Kubernetes 多租戶實作的挑戰」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/11/22/reading-note-11">閱讀筆記: 「Kubernetes manageFields 討論」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/11/20/reading-note-10">閱讀筆記: 「Rancher v2.5 Release」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/11/18/reading-note-9">閱讀筆記: 「Java 應用程式於容器內的效能問題」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/11/16/reading-note-8">閱讀筆記: 「CRD 與 Operator 的探討」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/11/14/reading-note-7">閱讀筆記: 「terraform,Terraform Module 依賴性討論」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/11/12/reading-note-6">閱讀筆記: 「CPU Limit 造成的效能低落」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/11/10/reading-note-5">閱讀筆記: 「Kubernetes CNI 效能比較」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/11/08/reading-note-4">閱讀筆記: 「Contaienr 底層實作與 CVE 介紹」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/11/06/reading-note-3">閱讀筆記: 「七個邁向 Cloud Native 的挑戰!!」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/11/04/reading-note-2">閱讀筆記: 「淺談 Service Mesh」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/11/02/reading-note-1">閱讀筆記: 「How to enforce Kubernetes network security policies using OPA」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/10/31/reading-note-0">閱讀筆記: 「Amazon EKS Upgrade Journey From 1.17 to 1.18」</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2020/12/31/2020-review">2020-年度回顧</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2020/09/05/coivd-wfh">2020 疫情下的矽谷 - 遠端工作的探討</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2018/10/28/costco-salmon">costco 冷凍鮭魚排紀錄</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2018/08/08/costco-chicken">Costco 去骨雞腿排紀錄</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2017/06/02/blktrace">Blktrace, Blkparse and Fio example</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2017/05/19/perf-for-drbd">perf_for_drbd_9.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2017/07/05/curl-malloc">curl with fewer malloc</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2017/03/01/leetcode-314">LeetCode - 314</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2017/03/01/anki-thoughts">Anki 使用感想</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2014/07/28/git">Git 筆記</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2013/11/24/shell-note">Shell Script 筆記</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2013/10/12/zfs">ZFS 筆記</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2013/10/11/vim-plugin">Vim &amp; Nerdtree</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2013/10/05/cscope-note">cscope 使用筆記</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2013/10/05/news-server">Install News server on FreeBSD 9.1R</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2013/10/05/sphinx">Install Sphinx on Ubuntu 12.04 LTS</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2013/08/21/floodlight-env">Execution Floodlight</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2013/07/01/python-pack-unpack">Python-pack_unpack</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2013/06/15/nmap">nmap</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2013/06/13/python-translate">Python-translate</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2013/04/21/msnlogparse">MSN LOG解析以C#</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2013/03/29/c-pipe">Linux下 pipe介紹</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2013/03/29/matlab-1">Matlab 簡單練習</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2013/03/29/windows-vpn">Windows VPN</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2013/03/29/cpp">c++ explicit修飾</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2013/03/29/port-check">檢查port使用情況</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="「Container Image 的儲存挑戰」"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/2021/12/03/reading-note-18">閱讀筆記: 「Container Image 的儲存挑戰」</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-12-03T00:00:00.000Z" itemprop="datePublished">December 3, 2021</time> · <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/hwchiu" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/hwchiu.png" alt="HungWei Chiu" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/hwchiu" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">HungWei Chiu</span></a></div><small class="avatar__subtitle" itemprop="description">Blogger</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>連結: <a href="https://medium.com/flant-com/cleaning-up-container-images-with-werf-ec35b5d46569" target="_blank" rel="noopener noreferrer">https://medium.com/flant-com/cleaning-up-container-images-with-werf-ec35b5d46569</a></p><p>不知道大家有沒有遇過本地儲存空間滿了，再也抓不了 docker image 的慘痛經驗呢？ 本文就想要探討的是遠方 Container Image 上的管理問題，隨者時間演進，愈來愈多的版本產生，那作為管理者，我們要怎麼去&gt;
看待這些 image，放任他們無限擴張嘛？ 這些資源背後都代表一個儲存空間，也就意味額外的成本開銷。
作者想要解決的問題是，如何設計一套自動機制去刪除用不到的 image tag，保留會用到的，為了解決這個問題，要先定義什麼叫做 &quot;用得到的 image tag&quot;.
本文列舉了四種需要保留 image tag的情況
1) Production 環境正在使用的 image tag, 如果刪除了，遇到 ImagePullPolicy:Always 的情況那可真的麻煩了
2) 遇到緊急情況，應用程式需要退版，因此保留的 image tag 可不能只有當前版本，過往穩定版本也都要保留
3) 從開發角度來看需要的 image tag, 譬如我們開了一個 PR，這個 PR 有一個對應的 image tag, 再這個 PR 還沒有結束前，這個 image tag 應該都要保留讓開發者去驗證與使用
4) 最後則是特定版本號或是code name等專屬名稱
作者使用 werf 這套 k8s 建置佈署工具來幫忙，這工具除了常見的 build/deploy 外，還可以刪除遠方的 container image。 因此作者整合一套演算法，將其與 werf 整合，讓整個 CI/CD 的過程中能夠自動去產生新
的 image，並且根據需求去移除用不到的 image.
有興趣的記得點選下列原文來學習更多</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/reading">Reading</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/container">Container</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/storage">Storage</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="「使用 Open Policy Agent 來保護 Ingress 的誤用」"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/2021/12/01/reading-note-17">閱讀筆記: 「使用 Open Policy Agent 來保護 Ingress 的誤用」</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-12-01T00:00:00.000Z" itemprop="datePublished">December 1, 2021</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/hwchiu" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/hwchiu.png" alt="HungWei Chiu" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/hwchiu" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">HungWei Chiu</span></a></div><small class="avatar__subtitle" itemprop="description">Blogger</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>連結: <a href="https://www.cncf.io/blog/2020/09/29/enforce-ingress-best-practices-using-opa/" target="_blank" rel="noopener noreferrer">https://www.cncf.io/blog/2020/09/29/enforce-ingress-best-practices-using-opa/</a></p><p>不知道大家有沒有聽過 Open Policy Agent (OPA) 這個 CNCF 專案?
有滿多專案的背後都使用基於 OPA 的語言 Rego 來描述各式各樣的 Policy，譬如可以使用 conftest 來幫你的 kubernetes yaml 檢查語意是否有符合事先設定的 Policy。
本篇文章則是跟大家分享如何使用 OPA 來針對 Ingress 資源進行相關防呆與除錯，一個最基本的範例就是如何避免有多個 Ingress 使用相同的 hostname 卻指向不同的 backend service. 過往可能都是靠人工去維護
，確保沒有一致的名稱，但是透過 OPA 的概念我們可以再佈署 Ingress 到 Kubernetes 前先進行一次動態的比對，確保當前設定符合所有 Policy，得到所謂的 Approved 後才能夠佈署進去。
有興趣的人可以看看這篇文章，甚至學習一下 OPA 的使用方式</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/reading">Reading</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/kubernetes">Kubernetes</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/opa">OPA</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/network">Network</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="「SCP 工具的注意事項」"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/2021/11/30/reading-note-16">閱讀筆記: 「SCP 工具的注意事項」</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-11-30T00:00:00.000Z" itemprop="datePublished">November 30, 2021</time> · <!-- -->One min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/hwchiu" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/hwchiu.png" alt="HungWei Chiu" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/hwchiu" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">HungWei Chiu</span></a></div><small class="avatar__subtitle" itemprop="description">Blogger</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>連結: <a href="https://lwn.net/Articles/835962/" target="_blank" rel="noopener noreferrer">https://lwn.net/Articles/835962/</a></p><p>LWN.net 這幾天有一個文章是關於基於安全性考量下，改用其他工具取代 scp, 譬如使用 sftp 以及 rsync.
有常常使用 scp 這個工具的人可以看一下這篇文章討論的原因，以及如果要改成使用 rsync, 可以有什麼樣的參數使用</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/reading">Reading</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/linux">Linux</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/security">Security</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="「使用 k3s Rancher Vault and ArgoCD 來實作 GitOps」"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/2021/11/28/reading-note-15">閱讀筆記: 「使用 k3s Rancher Vault and ArgoCD 來實作 GitOps」</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-11-28T00:00:00.000Z" itemprop="datePublished">November 28, 2021</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/hwchiu" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/hwchiu.png" alt="HungWei Chiu" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/hwchiu" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">HungWei Chiu</span></a></div><small class="avatar__subtitle" itemprop="description">Blogger</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>連結: <a href="https://adam-toy.medium.com/implementing-gitops-on-kubernetes-using-k3s-rancher-vault-and-argocd-f8e770297d3a" target="_blank" rel="noopener noreferrer">https://adam-toy.medium.com/implementing-gitops-on-kubernetes-using-k3s-rancher-vault-and-argocd-f8e770297d3a</a></p><p>這邊跟大家分享一篇 GitOps 實作心路歷程，這篇文章中總共使用下列工具</p><ol><li>AWS, 所有環境都基於 AWS 此 cloud provider</li><li>K3S, 一套由 Rancher 開發的輕量級 Kubernetes 發行版本</li><li>Rancher, 管理 K3S 介面</li><li>Cert-Manager, 與 Let&#x27;s Encrypt 連動，管理相關憑證</li><li>Vault, Secret 管理工具</li><li>ArgoCD GitOps 使用工具，連動 Git Repo 與 K8s</li><li>Terraform, IaaC 的一種工具
這篇文章從頭開始介紹如何整合上述工具，並且完成一個簡易的範例，透過這些範例也讓你理解每個元件對應的功能，如何使用，共重要的是從一個大範圍的視角來看，這些元件的地位，更可以幫助你瞭解整體架構
有興趣的可以閱讀全文</li></ol></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/reading">Reading</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/git-ops">GitOps</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/rancher">Rancher</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="「本地開發 Kubernetes 的各種選擇」"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/2021/11/26/reading-note-14">閱讀筆記: 「本地開發 Kubernetes 的各種選擇」</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-11-26T00:00:00.000Z" itemprop="datePublished">November 26, 2021</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/hwchiu" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/hwchiu.png" alt="HungWei Chiu" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/hwchiu" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">HungWei Chiu</span></a></div><small class="avatar__subtitle" itemprop="description">Blogger</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>連結: <a href="https://www.dex.dev/dex-videos/development-clusters" target="_blank" rel="noopener noreferrer">https://www.dex.dev/dex-videos/development-clusters</a></p><p>不知道大家第一次接觸 kubernetes 的時候都是使用哪套解決方案來打造你的 K8s 叢集？ 亦或是作為一個開發者，你平常都怎麼架設 K8s 來本地測試?
這篇文章提到了作為一個 Local Kubernetes Cluster 幾個選擇，並且點出了三個需要解決的問題</p><ol><li>Container Registry, 作為一個開發環境，應該不會想要每次測試都要將 Container Image 給推到遠方，譬如 dockerHub, Quay，這樣整體效率低落</li><li>Builder, 如何有效率的幫忙建置你的應用程式，並且與 Kubernete 整合，讓開發者可以更專心於本地開發，而不要擔心太多 k8s 之間的設定
<a href="https://www.dex.dev/dex-videos/development-clusters" target="_blank" rel="noopener noreferrer">https://www.dex.dev/dex-videos/development-clusters</a></li><li>Runtime, 底層使用哪套 Container Runtime, 譬如 docker/containerd/cri-o
註: 我個人對第三點其實沒太多感覺，不覺得本地測試這個會影響太多
後面列舉了當前知名的相關專案，譬如 KIND, K3D, MicroK8S, Minikube 以及 Docker for desktop. 並且簡單的比較了一下這些本地開發的差異。
不知道大家平常本地開發時，都會用哪一套?
我個人是比較常使用 KIND 來測試，畢竟輕量化且同時支援多節點，環境也乾淨，測試起來也方便。</li></ol></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/reading">Reading</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/kubernetes">Kubernetes</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/dev-x">DevX</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="「SO_REUSEPORT 提昇 Nginx 效能」"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/2021/11/25/reading-note-13">閱讀筆記: 「SO_REUSEPORT 提昇 Nginx 效能」</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-11-25T00:00:00.000Z" itemprop="datePublished">November 25, 2021</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/hwchiu" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/hwchiu.png" alt="HungWei Chiu" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/hwchiu" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">HungWei Chiu</span></a></div><small class="avatar__subtitle" itemprop="description">Blogger</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>連結: <a href="https://blog.cloudflare.com/the-sad-state-of-linux-socket-balancing/" target="_blank" rel="noopener noreferrer">https://blog.cloudflare.com/the-sad-state-of-linux-socket-balancing/</a></p><p>今天要來跟大家分享一個單一節點如何提高應用程式吞吐量與服務能力的方式
這個方式主要探討的是應用程式對於網路連線的 I/O 模型，試想一個常見的使用範例。
一個主要的 Process 會去聽取一個固定的 port number (ex port 80)，並且通知後面眾多的 worker 來幫忙處理這些封包連線，而這些 worker 的工作就是處理連線。
整個架構中是一個 1 v.s N 的狀況， 一個負責 Listen ，N個負責處理連線內容
而今天要分享的則是想要讓架構變成 N v.s N 的狀況， 會有 N 個 Process, 每個 Process 配上一個 Worker。
而這 N個 process 同時共享一樣的 Port (ex, port 80)
這種情況下可以減少多個 worker 共享一個 listen socket 時的各種保護機制，取而代之的則是每個 listen socket 配上一個專屬的 worker 來處理。
要達成這樣的架構非常簡單，只要透過 SO_REUSEPORT 這個 socket option 告
訴 Kernel 當前這個 PORT 可以重複使用。
當封包送到 kernel 後則是由 kernel 幫你分配封包到所有使用相同地址的 Listen Socket (Process)
根據 nginx 官方文章的測試，這種架構下對於 RPS (Request per second) 有顯著的提升，有興趣的可以看看下列兩篇文章</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/reading">Reading</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/network">Network</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/performance">Performance</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="「Kubernetes 多租戶實作的挑戰」"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/2021/11/24/reading-note-12">閱讀筆記: 「Kubernetes 多租戶實作的挑戰」</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-11-24T00:00:00.000Z" itemprop="datePublished">November 24, 2021</time> · <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/hwchiu" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/hwchiu.png" alt="HungWei Chiu" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/hwchiu" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">HungWei Chiu</span></a></div><small class="avatar__subtitle" itemprop="description">Blogger</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>連結: <a href="https://faun.pub/kubernetes-multi-tenancy-a-best-practices-guide-88e37ef2b709?gi=6e43dc5ed7a" target="_blank" rel="noopener noreferrer">https://faun.pub/kubernetes-multi-tenancy-a-best-practices-guide-88e37ef2b709?gi=6e43dc5ed7a</a></p><p>這邊跟大家分享一篇關於 Kubernetes 多租戶的相關文章，該文章中探討到底多租戶的定義，以及實現上的難易程度</p><ol><li>多租戶可分成軟性與硬性兩種隔離， Kubernetes namespace 可以視為軟性隔離，而硬性隔離則是希望能夠更強力的隔離所有資源，文章中提到了 vClusters 的概念，連結放在最後</li><li>作者認為多租戶的 Kubernetes Cluster 實際上也會帶來一些限制，讓某些功能變得不方便使用。
a. 基於 namespace 的租戶隔離方式就只能大家都同樣一個 k8s 版本，同時有一些支援 RBAC 設定的 Helm Chart 可能就不方便使用。</li><li>作者這邊反思提出一個問題，為什麼真的需要多租戶的 Kubernetes 叢集，不能夠用多個單一租戶的 Kubernetes 叢集來取代?
a. 真的有這樣的實例，但是其實成本過高且沒效率。
b. 如果公司內每個開發人員都需要一個自已的 k8s來操作測試，規模一大的話你每個月的成本非常可觀，因此如果可以有一個多租戶的 k8s，就可以解決這些問題</li><li>多租戶實作上的挑戰，作者這邊列出幾個問題，包含使用者管理，資源分配以及如何隔離
a.基本上每個組織本身都已經有管理使用者的解決方案，譬如 AD/LDAP 等，如果要將這些使用者的認證授權與 kubernetes 整合，推薦使用 dex 這個支持 OpneID/OAtuth2 的解決方案，幫你將 Kubernetes 與外&gt;
部資料系統整合
b. 底層資源的共享，避免單一租戶過度使用導致其他租戶不能使用。資源包含了運算資源，網路頻寬等。作者列出透過 Resource Quotas 等可以幫忙限制運算資源，但是並沒有說出網路頻寬這部份該怎麼處理。&gt;
這部份我認為需要導入更多的network qos解決方案來限制，應該會需要cni以及外部交換機路由器等來幫忙
c. 最後則是互動上的隔離，要如何確保這些多租戶不會互相影響彼此，甚至攻擊彼此。這部份可能要從 NetworkPolicy 來處理網路流量，同時透過 vCluster的方式來提供相對於 namespace層級更強烈的隔離，確
保彼此不會互相影響。</li><li>最後，作者列出了一些關於多租戶的可能解決方案，包含了 kiosk, loft等
結論來說就是，今天你如果有多租戶的需求，請先問自己，你需要什麼等級的多租戶管理，再來則是三個重點問題要先想清楚，你要怎麼處理
1) 如何管理使用者/租戶
2) 系統資源要如何分配與限制
3) 如何真正有效的隔離這些租戶
如果有這方面的需求，可以先看看別的開源軟體怎麼實作，再來思考是否滿足需求，如果要自己實現，有哪些好的設計值得參考!</li></ol></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/reading">Reading</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/kubernetes">Kubernetes</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="「Kubernetes manageFields 討論」"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/2021/11/22/reading-note-11">閱讀筆記: 「Kubernetes manageFields 討論」</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-11-22T00:00:00.000Z" itemprop="datePublished">November 22, 2021</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/hwchiu" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/hwchiu.png" alt="HungWei Chiu" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/hwchiu" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">HungWei Chiu</span></a></div><small class="avatar__subtitle" itemprop="description">Blogger</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>連結: <a href="https://github.com/kubernetes/kubernetes/issues/90066?fbclid=IwAR3d3oXBtTz2ChxmqXQmLGIrghUxN3Tz67EYWZiuzNfltqVedAlFheg3qLA" target="_blank" rel="noopener noreferrer">https://github.com/kubernetes/kubernetes/issues/90066?fbclid=IwAR3d3oXBtTz2ChxmqXQmLGIrghUxN3Tz67EYWZiuzNfltqVedAlFheg3qLA</a></p><p>如果你機會跑過 kubernetes 1.18 版本，一定要試試看最基本的 kubectl get pods -o yaml，看看是不是內容裡面多出了非常多 f:{} 系列的檔案，導致整個 Yaml 變得非常冗長，閱讀不易，甚至想要抓取到最原始&gt;
的內容都非常麻煩。
Kubernetes 官方 Github 上還有相關的 issue 再討論這個欄位，詢問是否有辦法能夠清除。不少人都提出了一些希望的用法來處理
Issue: <a href="https://github.com/kubernetes/kubernetes/issues/90066" target="_blank" rel="noopener noreferrer">https://github.com/kubernetes/kubernetes/issues/90066</a>
目前看下來最簡單的做法還是透過 kubectl plugin, kubectl-neat 來幫忙完成，可以透過 krew 這個 kubectl 管理工具來安裝管理
<a href="https://github.com/itaysk/kubectl-neat" target="_blank" rel="noopener noreferrer">https://github.com/itaysk/kubectl-neat</a>
此工具可以將 Server 上得到 Yaml 的內容給整理最後得到最初的檔案
至於到底什麼是 managedFiles? 這個由欄位的出現是因為 1.18 以後，已經將 Server Side Apply 更新策略預設啟用而導致的，而 Server Side Apply 則是一種用來管理 Declarative 設定檔案的方式，對使用者來&gt;
說基本上完全無感，因為一切都還是透過 kubectl apply 來使用，只是到底如何判斷  當前檔案內容與系統上內容誰先誰後，誰對誰錯，甚至當有人透過 kubectl edit 去編輯內容的時候，到底該怎麼更新。</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/reading">Reading</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/kubernetes">Kubernetes</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="「Rancher v2.5 Release」"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/2021/11/20/reading-note-10">閱讀筆記: 「Rancher v2.5 Release」</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-11-20T00:00:00.000Z" itemprop="datePublished">November 20, 2021</time> · <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/hwchiu" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/hwchiu.png" alt="HungWei Chiu" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/hwchiu" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">HungWei Chiu</span></a></div><small class="avatar__subtitle" itemprop="description">Blogger</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>連結: <a href="https://www.suse.com/c/rancher_blog/rancher-2-5-delivers-on-computing-everywhere-strategy/" target="_blank" rel="noopener noreferrer">https://www.suse.com/c/rancher_blog/rancher-2-5-delivers-on-computing-everywhere-strategy/</a></p><p>Rancher v2.5 版本與過往的差異，這邊就來重點節錄一些改變</p><ol><li>強化與雲端環境 EKS 與 輕量級 K3s 環境的整合，此外宣稱所有 Kubernetes 服務上面都可以安裝 Ranche 用其來幫忙管理
Rancher v2.5 釋出!
這幾天 Rancher 正式釋出 v2.5 版本，這邊就來重點節錄一些改變</li><li>強化與雲端環境 EKS 與 輕量級 K3s 環境的整合，此外宣稱所有 Kubernetes 服務上面都可以安裝 Ranche 用其來幫忙管理</li><li>針對美國環境要求而開發更具安全性的發行版，符合 FIPS(Federal Information Processing Standars)</li><li>整合 GitOps 部署，針對大規模 Edge 叢集的自動部署解決方案 fleet</li><li>Monitoring 強化，減少與 Rancher 本身的連接性，反而更加使用 Prometheus operator 來提供服務。管理人員可以直接創建相關的 CRD 提供服務，而這些資訊也都會被 Rancher UI 給一併呈現
其中 (4) 裡面還提供的 cluster-level 的客製化設定，就不需要向過往一樣要開很多個 project-level 的 prometheus 來處理，這方面輕鬆不少
資料來源：</li></ol><ul><li><a href="https://rancher.com/.../rancher-2-5-delivers-computing" target="_blank" rel="noopener noreferrer">https://rancher.com/.../rancher-2-5-delivers-computing</a>...</li><li><a href="https://github.com/rancher/fleet" target="_blank" rel="noopener noreferrer">https://github.com/rancher/fleet</a></li><li><a href="https://fleet.rancher.io/" target="_blank" rel="noopener noreferrer">https://fleet.rancher.io/</a></li><li><a href="https://github.com/rancher/rancher/issues/23239" target="_blank" rel="noopener noreferrer">https://github.com/rancher/rancher/issues/23239</a></li></ul><ol start="2"><li>針對美國環境要求而開發更具安全性的發行版，符合 FIPS(Federal Information Processing Standars)</li><li>整合 GitOps 部署，針對大規模 Edge 叢集的自動部署解決方案 fleet</li><li>Monitoring 強化，減少與 Rancher 本身的連接性，反而更加使用 Prometheus operator 來提供服務。管理人員可以直接創建相關的 CRD 提供服務，而這些資訊也都會被 Rancher UI 給一併呈現
其中 (4) 裡面還提供的 cluster-level 的客製化設定，就不需要向過往一樣要開很多個 project-level 的 prometheus 來處理，這方面輕鬆不</li></ol></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/reading">Reading</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/rancher">Rancher</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/rke">RKE</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="「Java 應用程式於容器內的效能問題」"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/2021/11/18/reading-note-9">閱讀筆記: 「Java 應用程式於容器內的效能問題」</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-11-18T00:00:00.000Z" itemprop="datePublished">November 18, 2021</time> · <!-- -->One min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/hwchiu" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/hwchiu.png" alt="HungWei Chiu" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/hwchiu" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">HungWei Chiu</span></a></div><small class="avatar__subtitle" itemprop="description">Blogger</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>連結: <a href="https://mucahit.io/2020/01/27/finding-ideal-jvm-thread-pool-size-with-kubernetes-and-docker/" target="_blank" rel="noopener noreferrer">https://mucahit.io/2020/01/27/finding-ideal-jvm-thread-pool-size-with-kubernetes-and-docker/</a></p><p>如果有在 Kubernetes 內部署 Java 應用程式的人，千萬不要錯過這篇文章，此文章中分享 Java 應用程式關於 Thread Pool Size 的問題，同時當 Java 應用程式容器化並且部署到 Kubernettes 內之後，該怎麼設定
JVM 來讓其能夠更高效率的於容器化環境下工作</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/reading">Reading</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/container">Container</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/jave">Jave</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/performance">Performance</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/page/8"><div class="pagination-nav__label">Newer Entries</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/page/10"><div class="pagination-nav__label">Older Entries</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">其他資源</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://hwchiu.medium.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">英文部落格<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.facebook.com/technologynoteniu" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook Page(矽谷牛耕田筆記)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/hw_chiu" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/in/hung-wei-chiu-52561494/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Cloud Native Taiwan User Group(CNTUG)</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://cloudnative.tw/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Official Site<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@cloudnativetaiwanusergroup" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.facebook.com/groups/298183320685010" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://community.cncf.io/cloud-native-taiwan-user-group/" target="_blank" rel="noopener noreferrer" class="footer__link-item">CNCF Page<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://t.me/cntug" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 hwchiu. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.a31dc44e.js"></script>
<script src="/assets/js/main.934da69d.js"></script>
</body>
</html>