"use strict";(self.webpackChunkhwchiu=self.webpackChunkhwchiu||[]).push([[53454],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>d});var a=t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=a.createContext({}),m=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},p=function(e){var n=m(e.components);return a.createElement(s.Provider,{value:n},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},h=a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,l=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),c=m(t),h=o,d=c["".concat(s,".").concat(h)]||c[h]||u[h]||l;return t?a.createElement(d,r(r({ref:n},p),{},{components:t})):a.createElement(d,r({ref:n},p))}));function d(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var l=t.length,r=new Array(l);r[0]=h;var i={};for(var s in n)hasOwnProperty.call(n,s)&&(i[s]=n[s]);i.originalType=e,i[c]="string"==typeof e?e:o,r[1]=i;for(var m=2;m<l;m++)r[m]=t[m];return a.createElement.apply(null,r)}return a.createElement.apply(null,t)}h.displayName="MDXCreateElement"},3529:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>r,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>m});var a=t(87462),o=(t(67294),t(3905));const l={title:"Helm \u64cd\u4f5c\u7bc4\u4f8b",sidebar_position:4,tags:["iThome","DevOps","Kubernetes"],description:"iThome-2020 \u7cfb\u5217\u6587\u7ae0",date:new Date("2020-11-01T22:34:55.000Z")},r="\u672c\u6587",i={unversionedId:"2020/iThome_Challenge/cicd-4",id:"2020/iThome_Challenge/cicd-4",title:"Helm \u64cd\u4f5c\u7bc4\u4f8b",description:"iThome-2020 \u7cfb\u5217\u6587\u7ae0",source:"@site/docs/2020/iThome_Challenge/cicd-4.md",sourceDirName:"2020/iThome_Challenge",slug:"/2020/iThome_Challenge/cicd-4",permalink:"/docs/2020/iThome_Challenge/cicd-4",draft:!1,tags:[{label:"iThome",permalink:"/docs/tags/i-thome"},{label:"DevOps",permalink:"/docs/tags/dev-ops"},{label:"Kubernetes",permalink:"/docs/tags/kubernetes"}],version:"current",lastUpdatedBy:"HWC",sidebarPosition:4,frontMatter:{title:"Helm \u64cd\u4f5c\u7bc4\u4f8b",sidebar_position:4,tags:["iThome","DevOps","Kubernetes"],description:"iThome-2020 \u7cfb\u5217\u6587\u7ae0",date:"2020-11-01T22:34:55.000Z"},sidebar:"techPost",previous:{title:"Helm \u4ecb\u7d39",permalink:"/docs/2020/iThome_Challenge/cicd-3"},next:{title:"\u6dfa\u8ac7\u672c\u5730\u90e8\u7f72 Kubernetes \u7684\u5404\u985e\u9078\u64c7",permalink:"/docs/2020/iThome_Challenge/cicd-5"}},s={},m=[],p={toc:m},c="wrapper";function u(e){let{components:n,...t}=e;return(0,o.kt)(c,(0,a.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"\u672c\u6587"},"\u672c\u6587"),(0,o.kt)("p",null,"\u4e0a\u7bc7\u6587\u7ae0\u4e2d\u6211\u5011\u4ecb\u7d39\u4e86 Helm \u7684\u6982\u5ff5\uff0c\u5305\u542b\u4e86 Helm Chart, Config \u4ee5\u53ca Released\uff0c\u800c\u8981\u77ad\u89e3\u9019\u4e9b\u6982\u5ff5\u6700\u597d\u7684\u65b9\u5f0f\u5c31\u662f\u76f4\u63a5\u53c3\u8003\u4e00\u500b\u5be6\u969b\u7684\u7bc4\u4f8b\uff0c"),(0,o.kt)("p",null,"\u9996\u5148\u6839\u64da",(0,o.kt)("a",{parentName:"p",href:"https://helm.sh/docs/intro/install/"},"\u5b98\u65b9\u6559\u5b78"),"\uff0c\u5b89\u88dd ",(0,o.kt)("inlineCode",{parentName:"p"},"Helm")," \u6307\u4ee4\u5230\u7cfb\u7d71\u4e2d, \u591a\u7a2e\u5b89\u88dd\u65b9\u6cd5\uff0c\u64c7\u4e00\u5373\u53ef"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"curl https://raw.githubusercontent.com/helm/helm/master/scripts/get-helm-3 | bash\n")),(0,o.kt)("p",null,"\u56e0\u6b64\u6211\u5011\u6703\u4f7f\u7528 ",(0,o.kt)("inlineCode",{parentName:"p"},"Helm create")," \u6307\u4ee4\u5275\u5efa\u4e00\u500b\u57fa\u672c\u7684 Helm Chart\uff0c\u4e26\u5f9e\u4e2d\u77ad\u89e3\u5176\u67b6\u69cb"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"$ helm create ithome\n$ tree ithome\nithome\n\u251c\u2500\u2500 Chart.yaml\n\u251c\u2500\u2500 charts\n\u251c\u2500\u2500 templates\n\u2502\xa0\xa0 \u251c\u2500\u2500 NOTES.txt\n\u2502\xa0\xa0 \u251c\u2500\u2500 _helpers.tpl\n\u2502\xa0\xa0 \u251c\u2500\u2500 deployment.yaml\n\u2502\xa0\xa0 \u251c\u2500\u2500 hpa.yaml\n\u2502\xa0\xa0 \u251c\u2500\u2500 ingress.yaml\n\u2502\xa0\xa0 \u251c\u2500\u2500 service.yaml\n\u2502\xa0\xa0 \u251c\u2500\u2500 serviceaccount.yaml\n\u2502\xa0\xa0 \u2514\u2500\u2500 tests\n\u2502\xa0\xa0     \u2514\u2500\u2500 test-connection.yaml\n\u2514\u2500\u2500 values.yaml\n\n3 directories, 10 files\n")),(0,o.kt)("p",null,"\u4e00\u500b\u5168\u65b0\u7522\u751f\u7684 Helm Chart \u5167\u7e3d\u5171\u6709 10 \u500b\u6a94\u6848\uff0c 3\u500b\u8cc7\u6599\u593e"),(0,o.kt)("p",null,"\u88e1\u9762\u8ddf Kubernetes \u6709\u95dc\u7684\u7269\u4ef6\u8cc7\u6e90\u6709\u4e94\u500b\uff0c\u5305\u542b ",(0,o.kt)("inlineCode",{parentName:"p"},"deployment.yaml, hpa.yaml, ingress.yaml, service.yaml, serviceaccount.yaml"),", \u9019\u4e9b Yaml \u5167\u5bb9\u90fd\u542b\u6709 Go Template \u7684\u5167\u5bb9"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'$ cat ithome/templates/hpa.yaml\n{{- if .Values.autoscaling.enabled }}\napiVersion: autoscaling/v2beta1\nkind: HorizontalPodAutoscaler\nmetadata:\n  name: {{ include "ithome.fullname" . }}\n  labels:\n    {{- include "ithome.labels" . | nindent 4 }}\nspec:\n  scaleTargetRef:\n    apiVersion: apps/v1\n    kind: Deployment\n    name: {{ include "ithome.fullname" . }}\n  minReplicas: {{ .Values.autoscaling.minReplicas }}\n  maxReplicas: {{ .Values.autoscaling.maxReplicas }}\n  metrics:\n  {{- if .Values.autoscaling.targetCPUUtilizationPercentage }}\n    - type: Resource\n      resource:\n        name: cpu\n        targetAverageUtilization: {{ .Values.autoscaling.targetCPUUtilizationPercentage }}\n  {{- end }}\n  {{- if .Values.autoscaling.targetMemoryUtilizationPercentage }}\n    - type: Resource\n      resource:\n        name: memory\n        targetAverageUtilization: {{ .Values.autoscaling.targetMemoryUtilizationPercentage }}\n  {{- end }}\n{{- end }}\n')),(0,o.kt)("p",null,"\u6b64\u5916\u9084\u53ef\u4ee5\u770b\u5230\u6700\u5916\u9762\u6709\u4e00\u500b Values.yaml\uff0c\u88e1\u9762\u5c31\u5305\u542b\u5404\u5f0f\u5404\u6a23\u7684\u8b8a\u6578\u4ee5\u53ca\u9810\u8a2d\u503c\uff0c"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},'\u2570\u2500$ cat values.yaml\n# Default values for ithome.\n# This is a YAML-formatted file.\n# Declare variables to be passed into your templates.\n\nreplicaCount: 1\n\nimage:\n  repository: nginx\n  pullPolicy: IfNotPresent\n  # Overrides the image tag whose default is the chart appVersion.\n  tag: ""\n\nimagePullSecrets: []\nnameOverride: ""\nfullnameOverride: ""\n\nserviceAccount:\n  # Specifies whether a service account should be created\n  create: true\n  # Annotations to add to the service account\n  annotations: {}\n  # The name of the service account to use.\n  # If not set and create is true, a name is generated using the fullname template\n  name: ""\n\npodAnnotations: {}\n\npodSecurityContext: {}\n  # fsGroup: 2000\n\nsecurityContext: {}\n  # capabilities:\n  #   drop:\n  #   - ALL\n  # readOnlyRootFilesystem: true\n  # runAsNonRoot: true\n  # runAsUser: 1000\nservice:\n  type: ClusterIP\n  port: 80\n\ningress:\n  enabled: false\n  annotations: {}\n    # kubernetes.io/ingress.class: nginx\n    # kubernetes.io/tls-acme: "true"\n  hosts:\n    - host: chart-example.local\n      paths: []\n  tls: []\n  #  - secretName: chart-example-tls\n  #    hosts:\n  #      - chart-example.local\n\nresources: {}\n  # We usually recommend not to specify default resources and to leave this as a conscious\n  # choice for the user. This also increases chances charts run on environments with little\n  # resources, such as Minikube. If you do want to specify resources, uncomment the following\n  # lines, adjust them as necessary, and remove the curly braces after \'resources:\'.\n  # limits:\n  #   cpu: 100m\n  #   memory: 128Mi\n  # requests:\n  #   cpu: 100m\n  #   memory: 128Mi\n\nautoscaling:\n  enabled: false\n  minReplicas: 1\n  maxReplicas: 100\n  targetCPUUtilizationPercentage: 80\n  # targetMemoryUtilizationPercentage: 80\n\nnodeSelector: {}\n\ntolerations: []\n\naffinity: {}\n')),(0,o.kt)("p",null,"\u5982\u679c\u60f3\u8981\u5b89\u88dd\u9019\u500b Helm Chart \u5230\u7cfb\u7d71\u5167\uff0c\u4f9d\u5e8f\u57f7\u884c\u4e0b\u5217\u6307\u4ee4"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"\u5275\u5efa\u6e2c\u8a66\u7528 namespace"),(0,o.kt)("li",{parentName:"ol"},"\u5c07\u8a72 Helm Chart \u5b89\u88dd\u5230\u7cfb\u7d71\u4e2d\u7684 ithome namespace \u4e26\u4e14\u5c07\u8a72 released \u547d\u540d\u70ba ithome. \u4f86\u6e90 Helm Charts \u662f\u7576\u524d\u8cc7\u6599\u593e ",(0,o.kt)("inlineCode",{parentName:"li"},"."))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'$ kubectl create ns ithome                                                                                                                                             namespace/ithome created\n$ helm install --namespace ithome ithome .\nNAME: ithome\nLAST DEPLOYED: Tue Sep  8 21:54:12 2020\nNAMESPACE: ithome\nSTATUS: deployed\nREVISION: 1\nNOTES:\n1. Get the application URL by running these commands:\n  export POD_NAME=$(kubectl get pods --namespace ithome -l "app.kubernetes.io/name=ithome,app.kubernetes.io/instance=ithome" -o jsonpath="{.items[0].metadata.name}")\n  echo "Visit http://127.0.0.1:8080 to use your application"\n  kubectl --namespace ithome port-forward $POD_NAME 8080:80\n$ kubectl -n ithome get all                                                                                                                                            1 \u21b5\nNAME                          READY   STATUS    RESTARTS   AGE\npod/ithome-5cc87ff5f4-xnpvh   1/1     Running   0          36s\n\nNAME             TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)   AGE\nservice/ithome   ClusterIP   10.43.95.165   <none>        80/TCP    36s\n\nNAME                     READY   UP-TO-DATE   AVAILABLE   AGE\ndeployment.apps/ithome   1/1     1            1           36s\n\nNAME                                DESIRED   CURRENT   READY   AGE\nreplicaset.apps/ithome-5cc87ff5f4   1         1         1       36s\n')),(0,o.kt)("p",null,"\u518d\u4f86\u5247\u662f\u89c0\u770b\u7cfb\u7d71\u4e0a\u5b89\u88dd\u7684\u54ea\u4e9b\u7684 Helm Chart\uff0c\u53ef\u4ee5\u900f\u904e ",(0,o.kt)("inlineCode",{parentName:"p"},"helm ls")," \u7684\u65b9\u5f0f\u4f86\u89c0\u770b\uff0c\u5982\u679c\u6709\u4e0d\u540c\u7684 namespace \u90fd\u8981\u900f\u904e ",(0,o.kt)("inlineCode",{parentName:"p"},"-n")," \u4f86\u6307\u5b9a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"$ helm -n ithome ls\nNAME    NAMESPACE       REVISION        UPDATED                                 STATUS          CHART           APP VERSION\nithome  ithome          1               2020-09-08 21:54:12.803147 -0700 PDT    deployed        ithome-0.1.0    1.16.0\n")),(0,o.kt)("p",null,"\u6700\u5f8c\u662f\u4e00\u7cfb\u5217\u597d\u7528\u7684\u6307\u4ee4\uff0c",(0,o.kt)("inlineCode",{parentName:"p"},"helm get")," \u53ef\u4ee5\u53d6\u5f97\u8a72 Released \u4e0a\u7684\u5404\u7a2e\u8cc7\u6599"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"$ helm get --help\nUsage:\n  helm get [command]\n\nAvailable Commands:\n  all         download all information for a named release\n  hooks       download all hooks for a named release\n  manifest    download the manifest for a named release\n  notes       download the notes for a named release\n  values      download the values file for a named release\n")),(0,o.kt)("p",null,"\u6700\u7c21\u55ae\u7684\u5169\u500b\u7bc4\u4f8b\u5c31\u662f ",(0,o.kt)("inlineCode",{parentName:"p"},"manifest")," \u4ee5\u53ca ",(0,o.kt)("inlineCode",{parentName:"p"},"values"),", \u900f\u904e ",(0,o.kt)("inlineCode",{parentName:"p"},"manifest")," \u6211\u5011\u53ef\u4ee5\u76f4\u63a5\u89c0\u5bdf\u5230\u6700\u5f8c\u5b89\u88dd\u5230\u7cfb\u7d71\u5167\u7684 YAML \u6a94\u6848\u9577\u4ec0\u9ebc\u6a23\u5b50"),(0,o.kt)("p",null,"\u8b6c\u5982"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'$ helm -n ithome get manifest ithome\n---\n# Source: ithome/templates/serviceaccount.yaml\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: ithome\n  labels:\n    helm.sh/chart: ithome-0.1.0\n    app.kubernetes.io/name: ithome\n    app.kubernetes.io/instance: ithome\n    app.kubernetes.io/version: "1.16.0"\n    app.kubernetes.io/managed-by: Helm\n---\n# Source: ithome/templates/service.yaml\napiVersion: v1\nkind: Service\nmetadata:\n  name: ithome\n  labels:\n    helm.sh/chart: ithome-0.1.0\n    app.kubernetes.io/name: ithome\n    app.kubernetes.io/instance: ithome\n    app.kubernetes.io/version: "1.16.0"\n    app.kubernetes.io/managed-by: Helm\nspec:\n  type: ClusterIP\n  ports:\n    - port: 80\n      targetPort: http\n      protocol: TCP\n      name: http\n  selector:\n    app.kubernetes.io/name: ithome\n    app.kubernetes.io/instance: ithome\n---\n# Source: ithome/templates/deployment.yaml\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: ithome\n  labels:\n    helm.sh/chart: ithome-0.1.0\n    app.kubernetes.io/name: ithome\n    app.kubernetes.io/instance: ithome\n    app.kubernetes.io/version: "1.16.0"\n    app.kubernetes.io/managed-by: Helm\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app.kubernetes.io/name: ithome\n      app.kubernetes.io/instance: ithome\n  template:\n    metadata:\n      labels:\n        app.kubernetes.io/name: ithome\n        app.kubernetes.io/instance: ithome\n    spec:\n      serviceAccountName: ithome\n      securityContext:\n        {}\n      containers:\n        - name: ithome\n          securityContext:\n            {}\n          image: "nginx:1.16.0"\n          imagePullPolicy: IfNotPresent\n          ports:\n            - name: http\n              containerPort: 80\n              protocol: TCP\n          livenessProbe:\n            httpGet:\n              path: /\n              port: http\n          readinessProbe:\n            httpGet:\n              path: /\n              port: http\n          resources:\n            {}\n')),(0,o.kt)("p",null,"\u53ef\u4ee5\u770b\u5230\u9019\u908a\u5c31\u662f\u4e0a\u8ff0\u90a3\u4e9b\u5145\u6eff Go Template \u683c\u5f0fYaml\u6e32\u67d3\u5f8c\u7684\u7d50\u679c\uff0c\u6211\u5011\u4e5f\u53ef\u4ee5\u4f7f\u7528 ",(0,o.kt)("inlineCode",{parentName:"p"},"helm get values")," \u4f86\u770b\u4e00\u6b21\u76ee\u524d\u662f\u5426\u6709\u4efb\u4f55\u5ba2\u88fd\u5316\u7684\u8a2d\u5b9a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"helm -n ithome get values ithome\nUSER-SUPPLIED VALUES:\nnull\n")),(0,o.kt)("p",null,"\u6839\u64da\u9019\u500b\u6307\u4ee4\u6211\u5011\u53ef\u4ee5\u89c0\u5bdf\u5230\u672c\u6b21\u5b89\u88dd\u6c92\u6709\u4efb\u4f55\u5ba2\u88fd\u5316\u7684\u8b8a\u52d5\uff0c\u63a1\u7528\u7684\u662f\u6700\u539f\u751f\u7684 Values.yaml."),(0,o.kt)("p",null,"\u56e0\u6b64\u63a5\u4e0b\u4f86\u6211\u5011\u5617\u8a66\u5347\u7d1a\u8a72 Release\uff0c\u4e26\u4e14\u4fee\u6539\u88e1\u9762\u7684\u8a2d\u5b9a\u503c"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'$ helm -n ithome upgrade ithome --set service.type=NodePort .\nRelease "ithome" has been upgraded. Happy Helming!\nNAME: ithome\nLAST DEPLOYED: Tue Sep  8 22:02:49 2020\nNAMESPACE: ithome\nSTATUS: deployed\nREVISION: 2\nNOTES:\n1. Get the application URL by running these commands:\n  export NODE_PORT=$(kubectl get --namespace ithome -o jsonpath="{.spec.ports[0].nodePort}" services ithome)\n  export NODE_IP=$(kubectl get nodes --namespace ithome -o jsonpath="{.items[0].status.addresses[0].address}")\n  echo http://$NODE_IP:$NODE_PORT\n')),(0,o.kt)("p",null,"\u6307\u4ee4\u4e2d\u6211\u5011\u900f\u904e ",(0,o.kt)("inlineCode",{parentName:"p"},"helm upgrade")," \u7684\u65b9\u5f0f\u4f86\u5347\u7d1a\u5df2\u7d93\u5b58\u5728\u7684 Released ",(0,o.kt)("inlineCode",{parentName:"p"},"ithome"),", \u6211\u5011\u900f\u904e ",(0,o.kt)("inlineCode",{parentName:"p"},"--set service.type=NodePort")," \u7684\u65b9\u5f0f\u53bb\u8986\u84cb\u6389 ",(0,o.kt)("inlineCode",{parentName:"p"},"values.yaml")," \u88e1\u9762\u7684\u9810\u8a2d\u6578\u503c(\u9019\u908a\u4e5f\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539 values.yaml, \u6216\u662f\u7522\u751f\u4e00\u500b\u5168\u65b0\u7684 Yaml \u7136\u5f8c\u9001\u7d66 Helm \u6307\u4ee4)\u3002\u6700\u5f8c\u6211\u5011\u6307\u4ee4\u4f86\u6e90 Helm Chart \u7684\u4f4d\u7f6e ",(0,o.kt)("inlineCode",{parentName:"p"},".")," (\u7576\u524d\u76ee\u9304)\u3002"),(0,o.kt)("p",null,"\u53ef\u4ee5\u770b\u5230\u4e0a\u8ff0\u6307\u4ee4\u5f8c\u4f86\u8f38\u51fa\u4e00\u4e9b\u90e8\u7f72\u7684\u8cc7\u8a0a\uff0c\u5305\u542b\u8a72 Relased \u662f\u7b2c\u4e8c\u500b\u7248\u672c\uff0c\u90e8\u7f72\u7684\u6642\u9593\uff0c\u7576\u524d\u72c0\u614b\uff0c\u4ec0\u9ebc namespace."),(0,o.kt)("p",null,"\u4e00\u5207\u5b8c\u7562\u4e4b\u5f8c\uff0c\u6211\u5011\u518d\u5ea6\u4f7f\u7528 ",(0,o.kt)("inlineCode",{parentName:"p"},"helm get values")," \u7684\u6307\u4ee4\u4f86\u770b\u770b\u662f\u5426\u6709\u4ec0\u9ebc\u8b8a\u5316"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"$ helm -n ithome get values ithome\nUSER-SUPPLIED VALUES:\nservice:\n  type: NodePort\n$ kubectl -n ithome get svc\nNAME     TYPE       CLUSTER-IP     EXTERNAL-IP   PORT(S)        AGE\nithome   NodePort   10.43.95.165   <none>        80:30232/TCP   9m20s\n")),(0,o.kt)("p",null,"\u9019\u6642\u5019\u53ef\u4ee5\u5f88\u660e\u78ba\u5730\u770b\u5230\uff0c\u7576\u524d\u904b\u884c\u7684 ",(0,o.kt)("inlineCode",{parentName:"p"},"ithome released")," \u6709\u4e00\u500b\u5ba2\u88fd\u5316\u7684\u9078\u9805\uff0c\u5c31\u662f\u6211\u5011\u524d\u8ff0\u6240\u8f38\u5165\u7684 ",(0,o.kt)("inlineCode",{parentName:"p"},"service.type")," \uff0c\u540c\u6642\u89c0\u5bdf ",(0,o.kt)("inlineCode",{parentName:"p"},"kuberctl -n ithome get svc")," \u4e5f\u771f\u7684\u770b\u5230 service \u7684\u5167\u5bb9\u8b8a\u6210 NodePort."),(0,o.kt)("p",null,"Helm \u53ef\u4ee5\u64cd\u4f5c\u8207\u8a2d\u5b9a\u7684\u6771\u897f\u975e\u5e38\u591a\uff0c\u9019\u908a\u7684\u8a2d\u5b9a\u53ea\u662f\u4e00\u500b\u975e\u5e38\u7c21\u55ae\u7684\u7bc4\u4f8b\uff0c\u5be6\u52d9\u4e0a\u6709\u975e\u5e38\u591a\u7684\u4e8b\u60c5\u8981\u8655\u7406\uff0c\u4e5f\u6709\u975e\u5e38\u591a\u7684\u5c0f\u9ebb\u7169\uff0c\u8b6c\u5982\u7576\u4f60\u7684\u5ba2\u88fd\u5316\u8cc7\u8a0a\u672c\u8eab\u6709\u96d9\u5f15\u865f\u6216\u662f\u500b JSON \u5b57\u4e32\uff0c\u4f60\u7684\u8173\u672c\u8a72\u600e\u9ebc\u8655\u7406\u3002 Helm \u8981\u5982\u4f55\u8ddf\u61c9\u7528\u7a0b\u5f0f\u6574\u7406\uff0c\u958b\u767c\u4eba\u54e1\u8ddf\u7dad\u8b77\u4eba\u54e1\u8ab0\u8981\u8ca0\u8cac\u8a2d\u8a08\u8207\u7dad\u8b77\u61c9\u7528\u7a0b\u5f0f\u7684 Helm Chart, \u57fa\u672c\u4e0a\u90fd\u6c92\u6709\u4e00\u500b\u5b8c\u6574\u7b54\u6848\uff0c\u53ea\u8981\u80fd\u5920\u8b93\u4f60\u8f15\u9b06\u4e0a\u73ed\uff0c\u7c21\u55ae\u90e8\u7f72\uff0c\u9054\u5230\u85aa\u6c34\u5c0f\u5077\u7684\u5883\u754c\u5c31\u662f\u4e00\u500b\u597d\u7684\u89e3\u6c7a\u65b9\u6848\u3002"))}u.isMDXComponent=!0}}]);