"use strict";(self.webpackChunkhwchiu=self.webpackChunkhwchiu||[]).push([[15815],{3905:(e,n,t)=>{t.d(n,{Zo:()=>d,kt:()=>N});var a=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var o=a.createContext({}),s=function(e){var n=a.useContext(o),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},d=function(e){var n=s(e.components);return a.createElement(o.Provider,{value:n},e.children)},m="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},k=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,d=p(e,["components","mdxType","originalType","parentName"]),m=s(t),k=r,N=m["".concat(o,".").concat(k)]||m[k]||u[k]||i;return t?a.createElement(N,l(l({ref:n},d),{},{components:t})):a.createElement(N,l({ref:n},d))}));function N(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,l=new Array(i);l[0]=k;var p={};for(var o in n)hasOwnProperty.call(n,o)&&(p[o]=n[o]);p.originalType=e,p[m]="string"==typeof e?e:r,l[1]=p;for(var s=2;s<i;s++)l[s]=t[s];return a.createElement.apply(null,l)}return a.createElement.apply(null,t)}k.displayName="MDXCreateElement"},86792:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>p,toc:()=>s});var a=t(87462),r=(t(67294),t(3905));const i={title:"Azure Kubernetes Service (AKS) - CNI (I)",keywords:["azure","cni"],date:new Date("2019-03-26T00:32:42.000Z"),tags:["Azure","Kubernetes","CNI","Network"],description:"\u9664\u4e86\u81ea\u884c\u67b6\u8a2d Kubernetes \u4e4b\u5916\uff0c\u63a1\u7528\u516c\u6709\u96f2\u5ee0\u5546\u6240\u63d0\u4f9b\u7684 Kubernetes Service \u4e5f\u662f\u4e00\u500b\u65b9\u4fbf\u7684\u9078\u64c7\uff0c\u7136\u800c\u9019\u7a2e\u60c5\u6cc1\u4e0b\u6709\u8a31\u591a\u7684\u8a2d\u5b9a\u8ddf\u529f\u80fd\u90fd\u6703\u4f9d\u8cf4\u8a72\u516c\u6709\u96f2\u5ee0\u5546\u81ea\u884c\u5be6\u4f5c\uff0c\u5927\u90e8\u5206\u7684\u529f\u80fd\u90fd\u6703\u8207\u516c\u6709\u96f2\u672c\u8eab\u7684\u67b6\u69cb\u9032\u884c\u9ad8\u5ea6\u6574\u5408\u4ee5\u63d0\u4f9b\u66f4\u65b9\u4fbf\u7684\u4f7f\u7528\u8207\u64cd\u4f5c\u3002\u672c\u6587\u91dd\u5c0d Container Network Interface (CNI) \u65bc Azure \u4e2d\u7684\u5be6\u73fe\u8207\u4f7f\u7528\u9032\u884c\u4e86\u8a0e\u8ad6\uff0c\u85c9\u6b64\u4e86\u89e3\u516c\u6709\u96f2\u7684 CNI \u6709\u4ec0\u9ebc\u7279\u5225\u7684\u8a2d\u8a08\u8207\u4f7f\u7528\u65b9\u5f0f"},l="Preface",p={unversionedId:"techPost/2019/aks-cni-i",id:"techPost/2019/aks-cni-i",title:"Azure Kubernetes Service (AKS) - CNI (I)",description:"\u9664\u4e86\u81ea\u884c\u67b6\u8a2d Kubernetes \u4e4b\u5916\uff0c\u63a1\u7528\u516c\u6709\u96f2\u5ee0\u5546\u6240\u63d0\u4f9b\u7684 Kubernetes Service \u4e5f\u662f\u4e00\u500b\u65b9\u4fbf\u7684\u9078\u64c7\uff0c\u7136\u800c\u9019\u7a2e\u60c5\u6cc1\u4e0b\u6709\u8a31\u591a\u7684\u8a2d\u5b9a\u8ddf\u529f\u80fd\u90fd\u6703\u4f9d\u8cf4\u8a72\u516c\u6709\u96f2\u5ee0\u5546\u81ea\u884c\u5be6\u4f5c\uff0c\u5927\u90e8\u5206\u7684\u529f\u80fd\u90fd\u6703\u8207\u516c\u6709\u96f2\u672c\u8eab\u7684\u67b6\u69cb\u9032\u884c\u9ad8\u5ea6\u6574\u5408\u4ee5\u63d0\u4f9b\u66f4\u65b9\u4fbf\u7684\u4f7f\u7528\u8207\u64cd\u4f5c\u3002\u672c\u6587\u91dd\u5c0d Container Network Interface (CNI) \u65bc Azure \u4e2d\u7684\u5be6\u73fe\u8207\u4f7f\u7528\u9032\u884c\u4e86\u8a0e\u8ad6\uff0c\u85c9\u6b64\u4e86\u89e3\u516c\u6709\u96f2\u7684 CNI \u6709\u4ec0\u9ebc\u7279\u5225\u7684\u8a2d\u8a08\u8207\u4f7f\u7528\u65b9\u5f0f",source:"@site/docs/techPost/2019/aks-cni-i.md",sourceDirName:"techPost/2019",slug:"/techPost/2019/aks-cni-i",permalink:"/docs/techPost/2019/aks-cni-i",draft:!1,tags:[{label:"Azure",permalink:"/docs/tags/azure"},{label:"Kubernetes",permalink:"/docs/tags/kubernetes"},{label:"CNI",permalink:"/docs/tags/cni"},{label:"Network",permalink:"/docs/tags/network"}],version:"current",frontMatter:{title:"Azure Kubernetes Service (AKS) - CNI (I)",keywords:["azure","cni"],date:"2019-03-26T00:32:42.000Z",tags:["Azure","Kubernetes","CNI","Network"],description:"\u9664\u4e86\u81ea\u884c\u67b6\u8a2d Kubernetes \u4e4b\u5916\uff0c\u63a1\u7528\u516c\u6709\u96f2\u5ee0\u5546\u6240\u63d0\u4f9b\u7684 Kubernetes Service \u4e5f\u662f\u4e00\u500b\u65b9\u4fbf\u7684\u9078\u64c7\uff0c\u7136\u800c\u9019\u7a2e\u60c5\u6cc1\u4e0b\u6709\u8a31\u591a\u7684\u8a2d\u5b9a\u8ddf\u529f\u80fd\u90fd\u6703\u4f9d\u8cf4\u8a72\u516c\u6709\u96f2\u5ee0\u5546\u81ea\u884c\u5be6\u4f5c\uff0c\u5927\u90e8\u5206\u7684\u529f\u80fd\u90fd\u6703\u8207\u516c\u6709\u96f2\u672c\u8eab\u7684\u67b6\u69cb\u9032\u884c\u9ad8\u5ea6\u6574\u5408\u4ee5\u63d0\u4f9b\u66f4\u65b9\u4fbf\u7684\u4f7f\u7528\u8207\u64cd\u4f5c\u3002\u672c\u6587\u91dd\u5c0d Container Network Interface (CNI) \u65bc Azure \u4e2d\u7684\u5be6\u73fe\u8207\u4f7f\u7528\u9032\u884c\u4e86\u8a0e\u8ad6\uff0c\u85c9\u6b64\u4e86\u89e3\u516c\u6709\u96f2\u7684 CNI \u6709\u4ec0\u9ebc\u7279\u5225\u7684\u8a2d\u8a08\u8207\u4f7f\u7528\u65b9\u5f0f"},sidebar:"techPost",previous:{title:"2019",permalink:"/docs/category/2019"},next:{title:"Management AWS Profiles",permalink:"/docs/techPost/2019/aws-profile"}},o={},s=[{value:"Azure-VNET",id:"azure-vnet",level:2},{value:"Azure-VNET-IPAM",id:"azure-vnet-ipam",level:2},{value:"API",id:"api",level:2},{value:"Capacity",id:"capacity",level:2}],d={toc:s},m="wrapper";function u(e){let{components:n,...t}=e;return(0,r.kt)(m,(0,a.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"preface"},"Preface"),(0,r.kt)("p",null,"\u9664\u4e86\u81ea\u884c\u67b6\u8a2d Kubernetes \u4e4b\u5916\uff0c\u6108\u4f86\u6108\u591a\u7684\u516c\u6709\u96f2\u63d0\u4f9b\u5546\u4e5f\u90fd\u63d0\u4f9b\u4e86 Kubernetes \u7684\u670d\u52d9\uff0c\u5f9e Google \u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"GKE"),"(Google Kubernetes Engine), Amazon \u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"AKS"),"(Amazon Kubernetes Service) \u5230 Azure \u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"AKS"),"(Azure Kubernetes Service)\uff0c\u4f7f\u7528\u8005\u90fd\u53ef\u4ee5\u5f88\u7c21\u6613\u7684\u900f\u904e\u5176\u63d0\u4f9b\u7684\u64cd\u63a7\u4ecb\u9762\u5275\u9020\u4e00\u500b\u5168\u65b0\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"kubernetes")," \u96c6\u7fa4\u4f86\u4f7f\u7528\u3002"),(0,r.kt)("p",null,"\u5c0d\u6211\u4f86\u8aaa\uff0c\u9019\u4e9b\u516c\u6709\u96f2\u96c6\u7fa4\u8207\u81ea\u5efa\u96c6\u7fa4\u6709\u975e\u5e38\u591a\u7684\u5dee\u7570\uff0c\u7531\u65bc\u9019\u4e9b\u516c\u6709\u96f2\u6240\u63d0\u4f9b\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"kubernetes")," \u90fd\u57fa\u65bc\u9019\u4e9b\u516c\u6709\u96f2\u7684\u57fa\u672c\u67b6\u69cb\u4e0a\uff0c\u6240\u4ee5\u6709\u7279\u5225\u591a\u7684\u8cc7\u6e90\u53ef\u4ee5\u9032\u884c\u6574\u5408\uff0c\u8b6c\u5982 ",(0,r.kt)("inlineCode",{parentName:"p"},"Load-Balancer/Ingress")," \u5c31\u53ef\u4ee5\u642d\u914d\u81ea\u5bb6\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"LoadBalancer")," \u4f86\u4f7f\u7528\uff0c\u540c\u6642 ",(0,r.kt)("inlineCode",{parentName:"p"},"Ingress")," \u6240\u4f7f\u7528\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"hostname")," \u4e5f\u80fd\u5920\u8ddf\u76f8\u95dc\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"DNS")," \u6574\u5408\u3002\u6b64\u5916\u9084\u6709\u4e00\u500b\u5f88\u660e\u986f\u7684\u5dee\u7570\u5c31\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"IP")," \u7684\u5206\u914d\u53ca\u4f7f\u7528\u3002 \u4e0d\u8ad6\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"AKS")," \u6216\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"EKS")," \u90fd\u63d0\u4f9b\u4e86\u8b93 ",(0,r.kt)("inlineCode",{parentName:"p"},"Node")," \u8207 ",(0,r.kt)("inlineCode",{parentName:"p"},"Pod")," \u4f7f\u7528\u76f8\u540c\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"IP/Subnet")," \u7684\u6a5f\u5236\uff0c\u800c\u9019\u90e8\u5206\u5247\u662f\u727d\u626f\u5230 ",(0,r.kt)("inlineCode",{parentName:"p"},"Container Network Interface")," \u7684\u8a2d\u8a08\uff0c\u56e0\u6b64\u5982 ",(0,r.kt)("inlineCode",{parentName:"p"},"AKS/EKS")," \u90fd\u6709\u958b\u6e90\u4f7f\u7528\u5230\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"CNI"),"."),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/aws/amazon-vpc-cni-k8s"},"Amazon-VPC-CNI-K8S"),"\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/Azure/azure-container-networking"},"Azure-Container-Networking")),(0,r.kt)("p",null,"\u900f\u904e\u7814\u7a76\u9019\u4e9b ",(0,r.kt)("inlineCode",{parentName:"p"},"CNI")," \u7684\u8a2d\u8a08\u539f\u7406\uff0c\u53ef\u4ee5\u5b78\u7fd2\u5230\u6eff\u591a\u7684\u8a2d\u8a08\u60f3\u6cd5\uff0c\u540c\u6642\u82e5\u4eca\u5929\u4e5f\u6709\u76f8\u540c\u7684\u9700\u6c42\uff0c\u4e5f\u53ef\u4ee5\u4f5c\u70ba\u4e00\u500b\u53c3\u8003\u5c0d\u8c61\u53bb\u5b78\u7fd2\u3002"),(0,r.kt)("p",null,"\u63a5\u4e0b\u4f86\u6703\u91dd\u5c0d ",(0,r.kt)("inlineCode",{parentName:"p"},"AKS")," \u7684\u90e8\u5206\u53bb\u63a2\u8a0e\u5176 ",(0,r.kt)("inlineCode",{parentName:"p"},"CNI")," \u7684\u904b\u4f5c\uff0c\u4e26\u4e14\u5206\u6210\u5169\u7bc7\u6587\u7ae0\u4f86\u7814\u7a76\u3002\u7b2c\u4e00\u7bc7\u6587\u7ae0\u4e3b\u8981\u6703\u91dd\u5c0d ",(0,r.kt)("inlineCode",{parentName:"p"},"IP")," \u7684\u7ba1\u7406\uff0c\u5305\u542b\u4e86\u5206\u914d\u8207\u8a2d\u5b9a\uff0c\u4ee5\u53ca\u76f8\u95dc\u7684\u6a94\u6848\u8cc7\u8a0a\uff0c\u7b2c\u4e8c\u7bc7\u6587\u7ae0\u5247\u6703\u91dd\u5c0d ",(0,r.kt)("inlineCode",{parentName:"p"},"Routing")," \u7684\u8a2d\u5b9a\uff0c\u9019\u7a2e\u7db2\u8def\u8a2d\u5b9a\u4e0b\uff0c\u5be6\u969b\u4e0a\u5c01\u5305\u518d\u50b3\u8f38\u7684\u6642\u5019\u6709\u54ea\u4e9b\u4e0d\u540c\u65bc ",(0,r.kt)("inlineCode",{parentName:"p"},"Flannel/Calico/Bridge")," \u7684\u8a2d\u5b9a\u8207\u7528\u6cd5\u3002"),(0,r.kt)("h1",{id:"introduction"},"Introduction"),(0,r.kt)("p",null,"\u6b63\u5f0f\u63a2\u8a0e ",(0,r.kt)("inlineCode",{parentName:"p"},"Azure-Container-Networking CNI")," \u7684\u904b\u4f5c\u4e4b\u524d\uff0c\u6709\u4e00\u4e9b\u57fa\u672c\u7684\u6982\u5ff5\u8981\u5148\u77ad\u89e3\uff0c\u7576\u4f60\u900f\u904e ",(0,r.kt)("inlineCode",{parentName:"p"},"Azure Portal")," \u5275\u7acb\u4e00\u500b\u4e09\u500b\u7bc0\u9ede\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"AKS")," \u670d\u52d9\u5f8c\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"Azure")," \u6703\u5e6b\u4f60\u5275\u5efa\u4e0d\u5c11\u76f8\u95dc\u7684\u8cc7\u6e90, \u5176\u4e2d\u8ddf\u672c\u6587\u95dc\u4fc2\u8f03\u91cd\u8981\u7684\u5e7e\u500b\u5206\u5225\u662f"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Nodes (Virtual Machines)"),(0,r.kt)("li",{parentName:"ol"},"VNet (Virtual Networks)"),(0,r.kt)("li",{parentName:"ol"},"Kubernetes")),(0,r.kt)("p",null,"Nodes \u7684\u6578\u91cf\u5c31\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"AKS")," \u7684\u7bc0\u9ede\u6578\u91cf\uff0c\u800c\u7bc0\u9ede\u4e0a\u80fd\u5920\u64c1\u6709\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"IP/Subnet")," \u5247\u90fd\u662f\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"VNet")," \u8a72\u8cc7\u6e90\u4e2d\u7ba1\u7406\u3002 \u8a72 ",(0,r.kt)("inlineCode",{parentName:"p"},"Vnet")," \u6240\u7ba1\u7406\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"IP/Subnet")," \u4e0d\u4f46\u8ddf\u7bc0\u9ede\u6709\u95dc\uff0c\u4e5f\u8ddf\u904b\u884c\u5728\u8a72\u7bc0\u9ede\u4e0a\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"Pod")," \u6709\u95dc\uff0c\u56e0\u70ba ",(0,r.kt)("inlineCode",{parentName:"p"},"Pod")," \u6700\u7d42\u4f7f\u7528\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"IP/Subnet")," \u90fd\u662f\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"VNet")," \u9019\u908a\u53bb\u8a2d\u5b9a\u8207\u63a7\u7ba1\u3002\n\u800c\u9019\u4e9b Nodes \u4e4b\u9593\u7684\u7db2\u8def\u9023\u7dda\u5247\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"Azure")," \u672c\u8eab\u5e6b\u5fd9\u8655\u7406\u7684\uff0c\u5be6\u969b\u4e0a\u662f\u900f\u904e ",(0,r.kt)("inlineCode",{parentName:"p"},"Azure SDN Fabric")," \u7684\u6982\u5ff5\u4f86\u5e6b\u5fd9\u8655\u7406\u9019\u4e9b\u7bc0\u9ede\u9593\u7684\u7db2\u8def\u50b3\u8f38\uff0c\u5305\u542b\u76f8\u95dc\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"Virtual Networks")," \u7684\u8655\u7406\u3002\n\u6700\u5f8c\u5247\u662f\u57fa\u65bc\u9019\u4e9b\u67b6\u69cb\u4e0b\u65bc\u7bc0\u9ede\u4e0a\u5b89\u88dd ",(0,r.kt)("inlineCode",{parentName:"p"},"kubernetes")," \u76f8\u95dc\u7684\u5143\u4ef6\u4e26\u63d0\u4f9b\u4e00\u500b\u53ef\u64cd\u4f5c\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"kubernetes")," \u53e2\u96c6\u3002"),(0,r.kt)("p",null,"\u672c\u6587\u7684\u6240\u6709\u74b0\u5883\u90fd\u57fa\u65bc\u4e0b\u5217\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"AKS")," \u67b6\u69cb\u5716\uff0c\u5982\u4e0b\u5716\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://i.imgur.com/dsrygTc.png",alt:"Imgur"}),"\n",(0,r.kt)("img",{parentName:"p",src:"https://i.imgur.com/N1a8mEk.png",alt:"Imgur"})),(0,r.kt)("p",null,"\u6b64\u5916\u53ef\u4ee5\u53c3\u8003\u9019\u7bc7",(0,r.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/azure/aks/ssh"},"\u5b98\u65b9\u6587\u7ae0\u5b78\u7fd2"),"\u5982\u4f55\u900f\u904e ",(0,r.kt)("inlineCode",{parentName:"p"},"SSH")," \u9023\u7dda\u5230 ",(0,r.kt)("inlineCode",{parentName:"p"},"AKS")," \u7684\u7bc0\u9ede\u4e2d\u4f86\u9032\u884c\u672c\u6587\u7684\u7814\u7a76"),(0,r.kt)("h1",{id:"azure-container-networkingcni"},"Azure-Container-Networking(CNI)"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Container Network Interface CNI")," \u662f\u4e00\u5957\u898f\u7bc4\uff0c\u7528\u4f86\u8655\u7406\u5bb9\u5668\u672c\u8eab\u7684\u7db2\u8def\u8a2d\u5b9a\uff0c\u81f3\u65bc\u8981\u63d0\u4f9b\u4ec0\u9ebc\u6a23\u7684\u7db2\u8def\u80fd\u529b\u672c\u8eab\u4e26\u6c92\u6709\u5b9a\u7fa9\uff0c\u800c\u662f\u6839\u64da\u4e0d\u540c\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"CNI")," \u5be6\u73fe\u81ea\u884c\u6c7a\u5b9a\uff0c\u6839\u64da\u4e0d\u540c\u7684\u60c5\u5883\u8207\u8a2d\u5b9a\u4f86\u63d0\u4f9b\u4e0d\u540c\u7684\u529f\u80fd\u8207\u6548\u679c\u3002"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"CNI")," \u672c\u8eab\u7684\u904b\u4f5c\u539f\u7406\u662f\u4ee5\u6a5f\u5668\u70ba\u55ae\u4f4d\uff0c\u4e0d\u4ee5\u53e2\u96c6\u70ba\u55ae\u4f4d\uff0c\u56e0\u6b64\u6bcf\u53f0\u6a5f\u5668\u90fd\u8981\u5b89\u88dd\u6b32\u4f7f\u7528\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"CNI")," \u57f7\u884c\u6a94\u4ee5\u53ca\u5c0d\u61c9\u7684\u8a2d\u5b9a\u6a94\u6848\u3002\n\u4ee5\u672c\u6587\u7684\u7bc4\u4f8b\u70ba\u4f8b\uff0c\u4e09\u500b\u7bc0\u9ede\u5c31\u610f\u5473\u4e09\u500b\u7bc0\u9ede\u4e0a\u90fd\u6703\u5b89\u88dd\u5c0d\u61c9\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"CNI")," \u57f7\u884c\u6a94\uff0c\u4e5f\u5c31\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"Azure-Container-Networking")," \u5c08\u6848\u7684\u7522\u7269\uff0c\u540c\u6642\u4e5f\u6703\u6709\u5c0d\u61c9\u7684\u8a2d\u5b9a\u6a94\u6848\u3002"),(0,r.kt)("p",null,"\u6211\u5011\u53ef\u4ee5\u65bc ",(0,r.kt)("inlineCode",{parentName:"p"},"AKS")," \u7684\u7bc0\u9ede\u4e0a\u9762\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"/opt/cni/bin")," \u4e2d\u89c0\u5bdf\u5230\u76ee\u524d\u7cfb\u7d71\u4e2d\u5b89\u88dd\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"CNI")," \u57f7\u884c\u6a94"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash="},"azureuser@aks-agentpool-15026905-1:~$ ls /opt/cni/bin/\nazure-vnet       bridge  flannel      host-local  loopback  portmap  sample  vlan\nazure-vnet-ipam  dhcp    host-device  ipvlan      macvlan   ptp      tuning\n")),(0,r.kt)("p",null,"\u5176\u4e2d ",(0,r.kt)("inlineCode",{parentName:"p"},"azure-vnet"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"azure-vnet-ipam")," \u5169\u500b\u5247\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"Azure-Container-Networking")," \u9019\u500b\u5c08\u6848\u6240\u7522\u751f\u7684\uff0c\u4e00\u500b\u7528\u4f86\u8655\u7406\u7db2\u8def\u9023\u63a5\uff0c\u4e00\u500b\u7528\u4f86\u8655\u7406 ",(0,r.kt)("inlineCode",{parentName:"p"},"IP/Subnet")," \u7684\u53d6\u5f97\u8207\u8a2d\u5b9a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash="},'azureuser@aks-agentpool-15026905-1:~$ ls /etc/cni/net.d/\n10-azure.conflist\nazureuser@aks-agentpool-15026905-1:~$ sudo cat /etc/cni/net.d/10-azure.conflist\n{\n   "cniVersion":"0.3.0",\n   "name":"azure",\n   "plugins":[\n      {\n         "type":"azure-vnet",\n         "mode":"bridge",\n         "bridge":"azure0",\n         "ipam":{\n            "type":"azure-vnet-ipam"\n         }\n      },\n      {\n         "type":"portmap",\n         "capabilities":{\n            "portMappings":true\n         },\n         "snat":true\n      }\n   ]\n}\n')),(0,r.kt)("p",null,"\u9019\u500b\u8a2d\u5b9a\u6a94\u6848\u7684\u5167\u5bb9\u6211\u5011\u5148\u66ab\u6642\u4e0d\u53bb\u89e3\u8b80\uff0c\u53ea\u8981\u77e5\u9053\u6bcf\u4e00\u53f0 ",(0,r.kt)("inlineCode",{parentName:"p"},"AKS")," \u7bc0\u9ede\u4e0a\u90fd\u6703\u6709\u4e00\u500b\u7368\u7acb\u7684\u6a94\u6848\u4f86\u8ca0\u8cac\u8a72\u7bc0\u9ede\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"CNI")," \u5373\u53ef\u3002"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"CNI")," \u7684\u904b\u4f5c\u6d41\u7a0b\u7c21\u55ae\u4f86\u8aaa\u53ef\u4ee5\u5206\u6210\u591a\u500b\u6b65\u9a5f\uff0c\u5206\u5225\u662f"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Kubelet \u6536\u5230\u901a\u77e5\u8981\u5275\u5efa\u5c0d\u61c9\u7684 Pod"),(0,r.kt)("li",{parentName:"ol"},"Kubelet \u900f\u904e ",(0,r.kt)("inlineCode",{parentName:"li"},"CRI")," \u5275\u5efa ",(0,r.kt)("inlineCode",{parentName:"li"},"Pause Container")),(0,r.kt)("li",{parentName:"ol"},"Kubelet \u547c\u53eb ",(0,r.kt)("inlineCode",{parentName:"li"},"CNI")," \u4e26\u4e14\u5c07 ",(0,r.kt)("inlineCode",{parentName:"li"},"Pause Container")," \u7684\u90e8\u4efd\u8cc7\u8a0a\u7576\u4f5c\u53c3\u6578\u50b3\u7d66 ",(0,r.kt)("inlineCode",{parentName:"li"},"CNI")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"CNI")," \u6839\u64da\u81ea\u5df1\u7684\u5be6\u73fe\u70ba ",(0,r.kt)("inlineCode",{parentName:"li"},"Pause Container")," \u63d0\u4f9b\u7db2\u8def\u80fd\u529b"),(0,r.kt)("li",{parentName:"ol"},"Kubelet \u76f8\u4fe1 ",(0,r.kt)("inlineCode",{parentName:"li"},"CNI")," \u5df2\u7d93\u5b8c\u6210\u6240\u9700\u4efb\u52d9\uff0c\u63a5\u4e0b\u4f86\u5275\u5efa\u4f7f\u7528\u8005\u9700\u8981\u7684 ",(0,r.kt)("inlineCode",{parentName:"li"},"Containers"),"\uff0c\u9019\u4e9b ",(0,r.kt)("inlineCode",{parentName:"li"},"Containers")," \u7684\u7db2\u8def\u7a7a\u9593\u90fd\u76f4\u63a5\u639b\u8f09\u5230 ",(0,r.kt)("inlineCode",{parentName:"li"},"Pause Container")," \u4e0a")),(0,r.kt)("p",null,"\u800c\u672c\u6587\u4e3b\u8981\u63a2\u8a0e\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"Azure-Vnet CNI")," \u4e3b\u8981\u8ca0\u8cac\u7684\u90e8\u5206\u5c31\u662f ",(0,r.kt)("strong",{parentName:"p"},"4")," \u6240\u63cf\u8ff0\u7684\u5de5\u4f5c\uff0c\u70ba ",(0,r.kt)("inlineCode",{parentName:"p"},"Pause Container")," \u63d0\u4f9b\u7db2\u8def\u80fd\u529b\u3002"),(0,r.kt)("p",null,"\u6b64\u5916\u5c0d\u65bc CNI \u9019\u500b\u8b70\u984c\u6709\u8208\u8da3\u7684\u4eba\u53ef\u4ee5\u53c3\u95b1\u4e0b\u5217\u7cfb\u5217\u6587\u7ae0\u4f86\u5b78\u7fd2\u66f4\u591a CNI \u76f8\u95dc\u7684\u8cc7\u8a0a"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"https://www.hwchiu.com/cni-compare.html"},"\u5e38\u898b CNI (Container Network Interface) Plugin \u4ecb\u7d39")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"https://www.hwchiu.com/introduce-cni-ii.html"},"[Container Network Interface] CNI Introduction")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"https://www.hwchiu.com/introduce-cni-i.html"},"[Container Network Interface] Bridge Network In Docker")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"https://www.hwchiu.com/introduce-cni-iii.html"},"[Container Network Interface] Write a CNI Plugin By Golang")),(0,r.kt)("li",{parentName:"ol"},"[CNI \u5e38\u898b\u554f\u984c\u6574\u7406]","((",(0,r.kt)("a",{parentName:"li",href:"https://www.hwchiu.com/cni-questions.html"},"https://www.hwchiu.com/cni-questions.html"),")")),(0,r.kt)("h2",{id:"azure-vnet"},"Azure-VNET"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Azure-VNET CNI")," \u7684\u8a73\u7d30\u539f\u59cb\u78bc\u90fd\u5728 ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/Azure/azure-container-networking/tree/master/cni"},"Github-Azure-Container-Networking"),", \u6709\u8208\u8da3\u7684\u8b80\u8005\u53ef\u4ee5\u81ea\u884c\u95b1\u8b80\u4f86\u5b78\u7fd2\u3002"),(0,r.kt)("p",null,"\u57fa\u672c\u4e0a ",(0,r.kt)("inlineCode",{parentName:"p"},"Azure-VNET")," \u8ddf\u5e38\u898b\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"L2 Linux Bridge")," \u975e\u5e38\u76f8\u4f3c\uff0c\u5176\u904b\u4f5c\u6d41\u7a0b\u5982\u4e0b"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u5275\u5efa\u4e00\u500b Linux Bridge ",(0,r.kt)("inlineCode",{parentName:"li"},"Azure0")," (\u82e5\u5b58\u5728\u5c31\u4e0d\u5275\u9020)"),(0,r.kt)("li",{parentName:"ol"},"\u5275\u9020\u4e00\u689d ",(0,r.kt)("inlineCode",{parentName:"li"},"Veth")," \u7684 ",(0,r.kt)("inlineCode",{parentName:"li"},"Linux Logical Link")),(0,r.kt)("li",{parentName:"ol"},"\u5c07\u8a72 ",(0,r.kt)("inlineCode",{parentName:"li"},"Veth")," \u7684\u4e00\u7aef\u653e\u5230 ",(0,r.kt)("inlineCode",{parentName:"li"},"Pause Container")," \u5167\uff0c\u4e26\u4e14\u547d\u540d\u70ba ",(0,r.kt)("inlineCode",{parentName:"li"},"eth0"),"."),(0,r.kt)("li",{parentName:"ol"},"\u5c07\u8a72 ",(0,r.kt)("inlineCode",{parentName:"li"},"Veth")," \u7684\u53e6\u4e00\u7aef\u7d81\u5230 ",(0,r.kt)("inlineCode",{parentName:"li"},"Azure0")," \u4e0a\uff0c\u8a72 ",(0,r.kt)("inlineCode",{parentName:"li"},"Veth")," \u7684\u540d\u7a31\u90fd\u662f\u6703 ",(0,r.kt)("inlineCode",{parentName:"li"},"azvxxxxxxx")),(0,r.kt)("li",{parentName:"ol"},"\u547c\u53eb ",(0,r.kt)("inlineCode",{parentName:"li"},"Azure-VNET-IPAM")," \u53bb\u53d6\u5f97\u53ef\u7528\u7684 ",(0,r.kt)("inlineCode",{parentName:"li"},"IP/Subnet")," \u4e26\u4e14\u8a2d\u5b9a\u5230 ",(0,r.kt)("inlineCode",{parentName:"li"},"Pause Container")," \u5167\u7684 ",(0,r.kt)("inlineCode",{parentName:"li"},"eth0")," \u4ecb\u9762",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u9019\u90e8\u5206\u6703\u5728\u4e0b\u500b\u7ae0\u7bc0\u89e3\u91cb\u5176\u904b\u4f5c")))),(0,r.kt)("p",null,"\u6709\u8208\u8da3\u7684\u8b80\u8005\u4e5f\u53ef\u4ee5\u53c3\u95b1 ",(0,r.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/azure/aks/ssh"},"AKS SSH to Node")," \u9019\u7bc7\u6587\u7ae0\u7684\u65b9\u5f0f\u9023\u63a5\u5230 ",(0,r.kt)("inlineCode",{parentName:"p"},"AKS")," \u5167\u90e8\u7684\u7bc0\u9ede\u4f86\u5be6\u969b\u770b\u770b\u9019\u4e9b\u8cc7\u8a0a"),(0,r.kt)("p",null,"\u6211\u5011\u53ef\u4ee5\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"brctl")," \u9019\u500b\u5de5\u5177\u4f86\u89c0\u5bdf ",(0,r.kt)("inlineCode",{parentName:"p"},"Linux Bridge")," \u7684\u95dc\u4fc2"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash="},"azureuser@aks-agentpool-15026905-1:~$ brctl show\nbridge name     bridge id               STP enabled     interfaces\nazure0          8000.000d3a51cdbb       no              azv1be2dcd6c83\n                                                        azv2705efbd6d8\n                                                        azv499967b4ec4\n                                                        azv4d966079c93\n                                                        azv5a6822c76a3\n                                                        azv93928864e55\n                                                        azva985f33c456\n                                                        azvaa217c54e39\n                                                        azvbc5198bad97\n                                                        azvc1ab312d517\n                                                        azvc92e6588502\n                                                        eth0\ndocker0         8000.024220b0b010       no\n")),(0,r.kt)("p",null,"\u57fa\u672c\u4e0a\u6574\u500b\u7bc0\u9ede\u4e2d\u7684\u72c0\u6cc1\u5982\u4e0b\u5716\uff0c\u6bcf\u500b ",(0,r.kt)("inlineCode",{parentName:"p"},"Pod")," \u90fd\u6703\u900f\u904e ",(0,r.kt)("inlineCode",{parentName:"p"},"Veth")," \u8207 ",(0,r.kt)("inlineCode",{parentName:"p"},"Azure0 ")," \u9019\u500b ",(0,r.kt)("inlineCode",{parentName:"p"},"Linux Bridge"),"\u76f8\u9023\n",(0,r.kt)("img",{parentName:"p",src:"https://i.imgur.com/DSzvmqc.png",alt:"Imgur"})),(0,r.kt)("p",null,"\u57fa\u672c\u4e0a\u8a72\u7bc0\u9ede\u4e0a\u9762\u6709\u591a\u5c11\u500b\u6c92\u6709\u8a2d\u5b9a ",(0,r.kt)("inlineCode",{parentName:"p"},"HostNetwork=true")," \u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"Pod"),", \u5c31\u6703\u6709\u591a\u5c11\u689d\u5c0d\u61c9\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"azvxxxx veth link"),"."),(0,r.kt)("p",null,"\u6b64\u5916\uff0c\u6211\u500b\u4eba\u5c0d\u65bc ",(0,r.kt)("inlineCode",{parentName:"p"},"Azure-VNET CNI")," \u89ba\u5f97\u5f88\u597d\u4e5f\u559c\u611b\u7684\u5730\u65b9\u5c31\u662f\u7559\u6709\u5927\u91cf\u5730\u8cc7\u8a0a\u5728\u7bc0\u9ede\u4e0a\uff0c\u9019\u90e8\u5206\u4e0d\u8ad6\u662f\u5c0d\u65bc\u7814\u7a76\u6216\u662f\u9664\u932f\u90fd\u975e\u5e38\u7684\u597d\u7528\u3002"),(0,r.kt)("p",null,"\u8a72\u8cc7\u8a0a\u88ab\u653e\u7f6e\u65bc ",(0,r.kt)("inlineCode",{parentName:"p"},"/var/run/azure-vnet.json"),", \u7576 ",(0,r.kt)("inlineCode",{parentName:"p"},"azure-vnet CNI")," \u6bcf\u6b21\u88ab\u547c\u53eb\u4f86\u57f7\u884c\u5c0d\u61c9\u5de5\u4f5c\u7684\u6642\u5019\uff0c\u90fd\u6703\u8a73\u7d30\u7684\u7d00\u9304\u9019\u6b21\u7684\u8cc7\u8a0a\uff0c\u5305\u542b ",(0,r.kt)("inlineCode",{parentName:"p"},"ContainerID"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"PodName"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"IP"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Route"),"\u7b49\u5404\u5f0f\u5404\u6a23\u7684\u8a2d\u5b9a\u8cc7\u8a0a\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json="},'{\n "Network": {\n         "Version": "v1.0.17",\n         "TimeStamp": "2019-03-22T14:30:27.934886517Z",\n         "ExternalInterfaces": {\n                 "eth0": {\n                         "Name": "eth0",\n                         "Networks": {\n                                 "azure": {\n                                         "Id": "azure",\n                                         "Mode": "bridge",\n                                         "VlanId": 0,\n                                         "Subnets": [\n                                                 {\n                                                         "Family": 2,\n                                                         "Prefix": {\n                                                                 "IP": "10.240.0.0",\n                                                                 "Mask": "//8AAA=="\n                                                         },\n                                                         "Gateway": "10.240.0.1"\n                                                 }\n                                         ],\n                                         "Endpoints": {\n                                                 "1bd38ad8-eth0": {\n                                                         "Id": "1bd38ad8-eth0",\n                                                         "SandboxKey": "",\n                                                         "IfName": "eth0",\n                                                         "HostIfName": "azv5a6822c76a3",\n                                                         "MacAddress": "nkfKrRbG",\n                                                         "InfraVnetIP": {\n                                                                 "IP": "",\n                                                                 "Mask": null\n                                                         },\n                                                         "IPAddresses": [\n                                                                 {\n                                                                         "IP": "10.240.0.94",\n                                                                         "Mask": "//8AAA=="\n                                                                 }\n                                                         ],\n                                                         "Gateways": [\n                                                                 "10.240.0.1"\n                                                         ],\n                                                         "DNS": {\n                                                                 "Suffix": "",\n                                                                 "Servers": [\n                                                                         "168.63.129.16"\n                                                                 ]\n                                                         },\n                                                         "Routes": [\n                                                                 {\n                                                                         "Dst": {\n                                                                                 "IP": "0.0.0.0",\n                                                                                 "Mask": "AAAAAA=="\n                                                                         },\n                                                                         "Src": "",\n                                                                         "Gw": "10.240.0.1",\n                                                                         "Protocol": 0,\n                                                                         "DevName": "",\n                                                                         "Scope": "0"}\n                                                         ],\n                                                         "VlanID": 0,\n                                                         "EnableSnatOnHost": false,\n                                                         "EnableInfraVnet": false,\n                                                         "EnableMultitenancy": false,\n                                                         "NetworkNameSpace": "/proc/5336/ns/net",\n                                                         "ContainerID": "1bd38ad8d840dd1f84597d4343b3bd116188cd1e4a797cc31bdc1aa3dc654a5b",\n                                                         "PODName": "addon-http-application-routing-external-dns-74db4f974b-8w4wz",\n                                                         "PODNameSpace": "kube-system"\n                                                 },\n..................................\n')),(0,r.kt)("p",null,"\u4e0a\u8ff0 ",(0,r.kt)("inlineCode",{parentName:"p"},"Endpoints")," \u88e1\u9762\u7684\u6bcf\u500b\u7269\u4ef6\u90fd\u6703\u63cf\u8ff0\u5230\u4e00\u500b ",(0,r.kt)("inlineCode",{parentName:"p"},"Pause Container")," \u7684\u7db2\u8def\u74b0\u5883\u8207\u8a2d\u5b9a\uff0c\u4e0d\u904e\u5c0d\u65bc ",(0,r.kt)("inlineCode",{parentName:"p"},"CNI")," \u4f86\u8aaa\u672c\u8eab\u4e0d\u5728\u610f\u662f\u4e0d\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"Pause Container"),". \u9019\u90e8\u5206\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"Kubelet")," \u81ea\u884c\u5be6\u73fe\u7684\u908f\u8f2f\uff0c\u6240\u4ee5\u57fa\u672c\u4e0a\u4e0d\u6703\u518d ",(0,r.kt)("inlineCode",{parentName:"p"},"CNI")," \u9019\u908a\u770b\u5230 ",(0,r.kt)("inlineCode",{parentName:"p"},"Pause Container")," \u76f8\u95dc\u7684\u6587\u5b57\u3002"),(0,r.kt)("h2",{id:"azure-vnet-ipam"},"Azure-VNET-IPAM"),(0,r.kt)("p",null,"\u63a5\u4e0b\u4f86\u8981\u63a2\u8a0e\u7684\u662f\u8981\u5982\u4f55\u5206\u914d ",(0,r.kt)("inlineCode",{parentName:"p"},"IP/Subnet")," \u9019\u4ef6\u4e8b\u60c5\uff0c\u57fa\u672c\u4e0a\u4efb\u610f\u5169\u500b ",(0,r.kt)("inlineCode",{parentName:"p"},"Pod")," \u90fd\u4e0d\u61c9\u8a72\u4f7f\u7528\u76f8\u540c\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"IP/Subnet"),"\u3002\u4f46\u662f\u5c0d\u65bc ",(0,r.kt)("inlineCode",{parentName:"p"},"CNI")," \u9019\u7a2e\u975e\u4e2d\u592e\u6975\u6b0a\u7ba1\u7406\u7684\u57f7\u884c\u7a0b\u5f0f\u4f86\u8aaa\uff0c\u8981\u505a\u5230\u4e0d\u885d\u7a81\u5c31\u5fc5\u9808\u8981\u6709\u4e00\u4e9b\u6a5f\u5236\u4e86\u3002\n\u5404\u5f0f\u5404\u6a23\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"CNI")," \u90fd\u6709\u81ea\u5df1\u7684\u6a5f\u5236\u4f86\u8655\u7406\uff0c\u4e0d\u8ad6\u662f\u900f\u904e ",(0,r.kt)("inlineCode",{parentName:"p"},"ectd")," \u6216\u662f\u81ea\u884c\u5be6\u73fe\u96c6\u4e2d\u5f0f\u7ba1\u7406\u6a5f\u5236\uff0c\u53ea\u8981\u80fd\u5920\u907f\u514d\u5206\u914d\u91cd\u8907 ",(0,r.kt)("inlineCode",{parentName:"p"},"IP/Subnet")," \u5373\u53ef"),(0,r.kt)("p",null,"\u524d\u9762\u6709\u63d0\u904e\uff0c\u4e09\u5927\u516c\u6709\u96f2\u7684 Kubernetes Service \u76f8\u8f03\u65bc\u81ea\u5efa\u4f86\u8aaa\u6709\u66f4\u591a\u7684\u512a\u52e2\u8207\u7279\u8272\u5c31\u662f\u56e0\u70ba\u53ef\u4ee5\u5c07 KUbernetes \u8207\u516c\u6709\u96f2\u5167\u7684\u8a2d\u65bd\u8207\u72c0\u614b\u7d50\u5408\u4f86\u63d0\u4f9b\u66f4\u591a\u7684\u529f\u80fd"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Azure-VNET-IPAM")," \u9019\u500b ",(0,r.kt)("inlineCode",{parentName:"p"},"IP/Subnet")," \u7ba1\u7406\u6a5f\u5236\u57fa\u672c\u4e0a\u5c31\u662f\u8207 ",(0,r.kt)("inlineCode",{parentName:"p"},"Azure")," \u7684\u74b0\u5883\u6709\u9ad8\u5ea6\u6574\u5408\uff0c\u63a5\u4e0b\u4f86\u6211\u5011\u4f86\u770b\u4e00\u4e0b\u5176\u904b\u4f5c\u7684\u539f\u7406\u3002"),(0,r.kt)("p",null,"\u6bcf\u53f0\u6a5f\u5668\u4e0a\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"Azure-VNET-IPAM")," \u9019\u500b ",(0,r.kt)("inlineCode",{parentName:"p"},"CNI")," \u90fd\u6703\u57f7\u884c\u76f8\u540c\u7684\u904b\u4f5c\u539f\u7406\uff0c\u6700\u5f8c\u537b\u8981\u53d6\u5f97\u4e0d\u540c\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"IP/Subnet"),", \u9019\u6574\u500b\u904b\u4f5c\u539f\u7406\u5982\u4e0b"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u6bcf\u500b ",(0,r.kt)("inlineCode",{parentName:"li"},"Azure-VNET-IPAM CNI")," \u90fd\u6703\u900f\u904e ",(0,r.kt)("inlineCode",{parentName:"li"},"HTTP")," \u53bb\u8a62\u554f\u53e2\u96c6 API, \u4f86\u78ba\u8a8d\u7576\u524d\u7bc0\u9ede\u5728 ",(0,r.kt)("inlineCode",{parentName:"li"},"VNET")," \u5167\u53ef\u4ee5\u64c1\u6709\u7684 ",(0,r.kt)("inlineCode",{parentName:"li"},"IP")," \u6578\u91cf"),(0,r.kt)("li",{parentName:"ol"},"\u5f9e\u53ef\u7528\u7684 ",(0,r.kt)("inlineCode",{parentName:"li"},"IP")," \u6578\u91cf\u5167\u96a8\u6a5f\u6311\u9078\u4e00\u500b ",(0,r.kt)("inlineCode",{parentName:"li"},"IP")," \u4e26\u8fd4\u56de"),(0,r.kt)("li",{parentName:"ol"},"\u6700\u5f8c ",(0,r.kt)("inlineCode",{parentName:"li"},"Azure-VNET")," \u5c31\u6703\u53d6\u5f97 ",(0,r.kt)("inlineCode",{parentName:"li"},"Azure-VNET-IPAM")," \u5f97\u5230\u7684 ",(0,r.kt)("inlineCode",{parentName:"li"},"IP/Subnet")," \u4e26\u4e14\u8a2d\u5b9a\u5230\u5c0d\u61c9\u7684 ",(0,r.kt)("inlineCode",{parentName:"li"},"Pause Container")," \u88e1\u9762")),(0,r.kt)("h2",{id:"api"},"API"),(0,r.kt)("p",null,"\u5f9e",(0,r.kt)("a",{parentName:"p",href:"https://github.com/Azure/azure-container-networking/blob/67debca9016218981b69ff954536418ea0903305/ipam/azure.go#L17-L23"},"\u539f\u59cb\u78bc"),"\u4e2d\u53ef\u4ee5\u89c0\u5bdf\u5230\u4e0b\u5217 URL \u7684\u8a2d\u5b9a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go="},'const (\n    // Host URL to query.\n    azureQueryUrl = "http://168.63.129.16/machine/plugins?comp=nmagent&type=getinterfaceinfov1"\n\n    // Minimum time interval between consecutive queries.\n    azureQueryInterval = 10 * time.Second\n)\n')),(0,r.kt)("p",null,"\u7136\u800c\u76ee\u524d\u5be6\u969b\u4e0a\u4f7f\u7528\u6c92\u6709\u901a\uff0c\u539f\u56e0\u5728\u65bc\u5148\u524d\u7684 ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/Azure/azure-container-networking/commit/e5f6b0d03c96b3eab4ce76178ddb6d3d57fb92c9#diff-ce5c6e7b3ab2a2f573913afae54abd4b"},"Commit")," \u6709\u4fee\u6539\u904e\u8a72 URL \u7684\u6578\u503c\uff0c\u800c\u4e14\u8a72 Commit \u8ddd\u96e2\u9019\u7bc7\u6587\u7ae0\u4e0d\u5230\u4e00\u500b\u6708\u524d\uff0c\u6240\u4ee5\u6211\u8a8d\u70ba Azure \u4e0a\u9762\u9084\u6c92\u6709\u63a1\u7528\u65b0\u7684\u7248\u672c\uff0c\u56e0\u6b64\u5be6\u969b\u4e0a\u64cd\u4f5c\u6642\u9084\u662f\u4f7f\u7528\u820a\u6709\u7684 URL\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Update host machine ip (#300)\n\n* Limiting the size of our buffered payload to ~2MB\n\n* Changing IPs for calls to host machines from 169.254.169.254 to 168.63.129.16.\n")),(0,r.kt)("p",null,"\u6839\u64da\u4e0a\u8ff0\u7684\u539f\u59cb\u78bc\uff0c\u6211\u5011\u53ef\u4ee5\u76f4\u63a5\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"AKS")," \u7bc0\u9ede\u4e2d\u76f4\u63a5\u900f\u904e ",(0,r.kt)("inlineCode",{parentName:"p"},"curl")," \u7684\u65b9\u5f0f\u53bb\u8a62\u554f\uff0c\u7d50\u679c\u5982\u4e0b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml="},'azureuser@aks-agentpool-15026905-0:~$ curl "http://169.254.169.254/machine/plugins?comp=nmagent&type=getinterfaceinfov1"\n<Interfaces><Interface MacAddress="000D3A51C490" IsPrimary="true"><IPSubnet Prefix="10.240.0.0/16">\n<IPAddress Address="10.240.0.35" IsPrimary="true"/>\n<IPAddress Address="10.240.0.36" IsPrimary="false"/>\n<IPAddress Address="10.240.0.37" IsPrimary="false"/>\n<IPAddress Address="10.240.0.38" IsPrimary="false"/>\n<IPAddress Address="10.240.0.39" IsPrimary="false"/>\n<IPAddress Address="10.240.0.40" IsPrimary="false"/>\n<IPAddress Address="10.240.0.41" IsPrimary="false"/>\n<IPAddress Address="10.240.0.42" IsPrimary="false"/>\n<IPAddress Address="10.240.0.43" IsPrimary="false"/>\n<IPAddress Address="10.240.0.44" IsPrimary="false"/>\n<IPAddress Address="10.240.0.45" IsPrimary="false"/>\n<IPAddress Address="10.240.0.46" IsPrimary="false"/>\n<IPAddress Address="10.240.0.47" IsPrimary="false"/>\n<IPAddress Address="10.240.0.48" IsPrimary="false"/>\n<IPAddress Address="10.240.0.49" IsPrimary="false"/>\n<IPAddress Address="10.240.0.50" IsPrimary="false"/>\n<IPAddress Address="10.240.0.51" IsPrimary="false"/>\n<IPAddress Address="10.240.0.52" IsPrimary="false"/>\n<IPAddress Address="10.240.0.53" IsPrimary="false"/>\n<IPAddress Address="10.240.0.54" IsPrimary="false"/>\n<IPAddress Address="10.240.0.55" IsPrimary="false"/>\n<IPAddress Address="10.240.0.56" IsPrimary="false"/>\n<IPAddress Address="10.240.0.57" IsPrimary="false"/>\n<IPAddress Address="10.240.0.58" IsPrimary="false"/>\n<IPAddress Address="10.240.0.59" IsPrimary="false"/>\n<IPAddress Address="10.240.0.60" IsPrimary="false"/>\n<IPAddress Address="10.240.0.61" IsPrimary="false"/>\n<IPAddress Address="10.240.0.62" IsPrimary="false"/>\n<IPAddress Address="10.240.0.63" IsPrimary="false"/>\n<IPAddress Address="10.240.0.64" IsPrimary="false"/>\n<IPAddress Address="10.240.0.65" IsPrimary="false"/>\n</IPSubnet></Interface></Interfaces>\n')),(0,r.kt)("p",null,"\u6709\u8da3\u7684\u662f\uff0c\u4e0d\u540c\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"AKS")," \u7bc0\u9ede\u554f\u5230\u7684\u7d50\u679c\u6703\u662f\u4e0d\u540c\u7684\uff0c\u6240\u4ee5\u6bcf\u53f0\u7bc0\u9ede\u4e0a\u5f97 ",(0,r.kt)("inlineCode",{parentName:"p"},"AKS-VNET-IPAM")," \u90fd\u53ef\u4ee5\u900f\u904e\u9019\u500b\u65b9\u5f0f\u4f86\u53d6\u5f97\u8a72\u53f0\u7bc0\u9ede\u4e0a\u6240\u64c1\u6709\u80fd\u5920\u4f7f\u7528\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"IP")," \u6578\u91cf\u4ee5\u53ca\u5c0d\u61c9\u7684\u7db2\u6bb5\u3002"),(0,r.kt)("p",null,"\u6b64\u5916 ",(0,r.kt)("inlineCode",{parentName:"p"},"AKS-VNET-IPAM")," \u4e5f\u6703\u5728\u672c\u6a5f\u7aef\u8a18\u9304\u76f8\u5c0d\u61c9\u7684\u8cc7\u8a0a, \u6a94\u6848\u4f4d\u7f6e\u4f4d\u65bc ",(0,r.kt)("inlineCode",{parentName:"p"},"/var/run/azure-vnet-ipam.json")),(0,r.kt)("p",null,"\u5176\u5167\u5bb9\u4e3b\u8981\u6703\u7d00\u9304\u672c\u6a5f\u7aef\u53ef\u4ee5\u4f7f\u7528\u7684\u6240\u6709 ",(0,r.kt)("inlineCode",{parentName:"p"},"IP \u4f4d\u7f6e")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json="},'{\n        "IPAM": {\n                "Version": "v1.0.17",\n                "TimeStamp": "2019-03-18T21:48:15.199533623Z",\n                "AddressSpaces": {\n                        "local": {\n                                "Id": "local",\n                                "Scope": 0,\n                                "Pools": {\n                                        "10.240.0.0/16": {\n                                                "Id": "10.240.0.0/16",\n                                                "IfName": "eth0",\n                                                "Subnet": {\n                                                        "IP": "10.240.0.0",\n                                                        "Mask": "//8AAA=="\n                                                },\n                                                "Gateway": "10.240.0.1",\n                                                                                              "Addresses": {\n                                                        "10.240.0.36": {\n                                                                "ID": "",\n                                                                "Addr": "10.240.0.36",\n                                                                "InUse": true\n                                                        },\n                                                        "10.240.0.37": {\n                                                                "ID": "",\n                                                                "Addr": "10.240.0.37",\n                                                                "InUse": true\n                                                        },\n                                                        "10.240.0.38": {\n                                                                "ID": "",\n                                                                "Addr": "10.240.0.38",\n                                                                "InUse": true\n                                                        },\n                                                        "10.240.0.39": {\n                                                                "ID": "",\n                                                                "Addr": "10.240.0.39",\n                                                                "InUse": false\n                                                        },\n                                                        ..............\n                                                        }}\n\n')),(0,r.kt)("p",null,"\u57fa\u672c\u4e0a\u9019\u4e9b ",(0,r.kt)("inlineCode",{parentName:"p"},"IP")," \u7684\u8cc7\u8a0a\u5c31\u8ddf ",(0,r.kt)("inlineCode",{parentName:"p"},"Azure Portal")," \u88e1\u9762 ",(0,r.kt)("inlineCode",{parentName:"p"},"VNet (Virtual Networks)")," \u986f\u793a\u7684\u6578\u91cf\u662f\u4e00\u81f4\u7684\uff0c\u56e0\u6b64\u6211\u5011\u53ef\u4ee5\u900f\u904e ",(0,r.kt)("inlineCode",{parentName:"p"},"Portal")," \u7684\u65b9\u5f0f\u5c31\u77e5\u9053\u6bcf\u53f0\u7bc0\u9ede\u4e0a\u904b\u884c\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"Pod")," \u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"IP")," \u7bc4\u570d\u3002"),(0,r.kt)("h2",{id:"capacity"},"Capacity"),(0,r.kt)("p",null,"\u4e00\u500b\u5f88\u6709\u8da3\u7684\u554f\u984c\u9019\u6642\u5019\u5c31\u6703\u6d6e\u73fe\u4e86\uff0c\u56e0\u70ba\u6bcf\u500b\u7bc0\u9ede\u4e0a\u80fd\u5920\u4f7f\u7528\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"IP")," \u6578\u91cf\u8ddf ",(0,r.kt)("inlineCode",{parentName:"p"},"Virtual Networks")," \u88e1\u9762\u7684\u6bcf\u53f0\u7bc0\u9ede\u6709\u95dc\uff0c\u90a3\u5982\u679c\u6211\u90e8\u7f72\u5927\u91cf\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"Pod")," \u5230\u8a72\u7bc0\u9ede\u4e0a\u662f\u5426\u6703\u767c\u751f ",(0,r.kt)("inlineCode",{parentName:"p"},"IP")," \u4e0d\u8db3\u5920\u7684\u554f\u984c?"),(0,r.kt)("p",null,"\u91dd\u5c0d\u9019\u500b\u554f\u984c\uff0c\u6211\u5617\u8a66\u90e8\u7f72\u4e86\u8d85\u904e ",(0,r.kt)("inlineCode",{parentName:"p"},"IP")," \u6578\u91cf\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"Pod")," \u5230\u7bc0\u9ede\u4e0a\uff0c\u7d50\u679c\u6700\u5f8c\u770b\u5230\u7684\u662f\u6eff\u6eff\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"Pending")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"hwchiu-utils-785f896cc5-cgjsq   0/1       Pending   0         4m\nhwchiu-utils-785f896cc5-4gmwv   0/1       Pending   0         4m\nhwchiu-utils-785f896cc5-brnl6   0/1       Pending   0         4m\nhwchiu-utils-785f896cc5-gwgcz   0/1       Pending   0         4m\nhwchiu-utils-785f896cc5-v5s45   0/1       Pending   0         4m\nhwchiu-utils-785f896cc5-knz2r   0/1       Pending   0         4m\nhwchiu-utils-785f896cc5-26pn2   0/1       Pending   0         4m\nhwchiu-utils-785f896cc5-xcmft   0/1       Pending   0         4m\nhwchiu-utils-785f896cc5-wlckh   0/1       Pending   0         4m\nhwchiu-utils-785f896cc5-dm49b   0/1       Pending   0         4m\nhwchiu-utils-785f896cc5-nkcgw   0/1       Pending   0         4m\nhwchiu-utils-785f896cc5-cwkbl   0/1       Pending   0         4m\n")),(0,r.kt)("p",null,"\u9019\u610f\u5473\u8005\u9019\u4e9b ",(0,r.kt)("inlineCode",{parentName:"p"},"Pod")," \u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"kubernetes scheduler/kubelet")," \u9019\u968e\u6bb5\u5c31\u88ab\u963b\u6b62\u4e86\uff0c\u6839\u672c\u6c92\u6709\u6a5f\u6703\u8b93 ",(0,r.kt)("inlineCode",{parentName:"p"},"CNI")," \u7e7c\u7e8c\u5f80\u4e0b\u57f7\u884c\uff0c\u9019\u6642\u5019\u6211\u5011\u53ef\u4ee5\u7814\u7a76\u4e00\u4e0b\u8a72 ",(0,r.kt)("inlineCode",{parentName:"p"},"kubernetes node")," \u7684\u8a2d\u5b9a, \u53ef\u4ee5\u767c\u73fe\u5230\u6709\u8da3\u7684\u8cc7\u8a0a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Capacity:\n attachable-volumes-azure-disk:  8\n cpu:                            2\n ephemeral-storage:              30428648Ki\n hugepages-1Gi:                  0\n hugepages-2Mi:                  0\n memory:                         7137108Ki\n pods:                           30\nAllocatable:\n attachable-volumes-azure-disk:  8\n cpu:                            1931m\n ephemeral-storage:              28043041951\n hugepages-1Gi:                  0\n hugepages-2Mi:                  0\n memory:                         5357396Ki\n pods:                           30\n")),(0,r.kt)("p",null,"\u9019\u5169\u8005\u7684\u8cc7\u8a0a\u53ef\u4ee5\u53c3\u95b1 ",(0,r.kt)("a",{parentName:"p",href:"https://kubernetes.io/docs/tasks/administer-cluster/reserve-compute-resources/"},"reserve-compute-resources")),(0,r.kt)("p",null,"\u5176\u4e2d\u53ef\u4ee5\u6ce8\u610f\u5230 ",(0,r.kt)("inlineCode",{parentName:"p"},"Pod")," \u7684\u6578\u91cf\u88ab\u8a2d\u5b9a\u6210 ",(0,r.kt)("inlineCode",{parentName:"p"},"30"),"\uff0c\u9019\u500b\u6578\u5b57\u8ddf\u6211\u5011\u5148\u524d\u900f\u904e ",(0,r.kt)("inlineCode",{parentName:"p"},"API")," \u53bb\u554f\u5230\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"IP")," \u6578\u76ee\u5e7e\u4e4e\u662f\u4e00\u81f4\u7684\nAPI \u554f\u5230\u7684 IP \u9084\u5305\u62ec\u7bc0\u9ede\u672c\u8eab\uff0c\u6240\u4ee5\u662f 30 + 1 = 31"),(0,r.kt)("p",null,"\u6240\u4ee5\u9019\u908a\u53ef\u4ee5\u770b\u5230\u91dd\u5c0d ",(0,r.kt)("inlineCode",{parentName:"p"},"IP")," \u7528\u5149\u7684\u554f\u984c\uff0c ",(0,r.kt)("inlineCode",{parentName:"p"},"AKS")," \u8655\u7406\u7684\u65b9\u5f0f\u9664\u4e86 ",(0,r.kt)("inlineCode",{parentName:"p"},"CNI")," \u672c\u8eab\u986f\u793a\u932f\u8aa4\u8a0a\u606f\u4e4b\u5916\uff0c\u6700\u4e0a\u5c64\u9084\u5148\u900f\u904e ",(0,r.kt)("inlineCode",{parentName:"p"},"Kubernetes Node Capacity")," \u7684\u65b9\u5f0f\u9032\u884c\u4e86\u7b2c\u4e00\u5c64\u7684\u963b\u64cb\uff0c\u7406\u8ad6\u4e0a ",(0,r.kt)("inlineCode",{parentName:"p"},"CNI")," \u672c\u8eab\u4e0d\u61c9\u8a72\u9047\u5230 ",(0,r.kt)("inlineCode",{parentName:"p"},"IP")," \u7528\u5149\u7684\u60c5\u5f62\uff0c\u56e0\u70ba\u6839\u672c\u4e0d\u61c9\u8a72\u6709\u8d85\u904e\u6578\u91cf\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"Pod")," \u88ab\u5617\u8a66\u90e8\u7f72\u5230\u8a72\u7bc0\u9ede\u4e0a\u3002"),(0,r.kt)("h1",{id:"summary"},"Summary"),(0,r.kt)("p",null,"\u672c\u6587\u4e2d\u6211\u5011\u7814\u7a76\u4e86 ",(0,r.kt)("inlineCode",{parentName:"p"},"AKS")," \u4e2d\u7bc0\u9ede\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"CNI")," \u904b\u4f5c\u6d41\u7a0b\uff0c\u5305\u542b\u4e86\u7c21\u55ae\u7684\u7db2\u8def\u8a2d\u5b9a (L2 Bridge)\uff0c\u540c\u6642\u4e5f\u63a2\u8a0e\u4e00\u4e0b\u4e86 ",(0,r.kt)("inlineCode",{parentName:"p"},"IPAM")," \u7684\u904b\u4f5c\u908f\u8f2f\u8207\u6d41\u7a0b\uff0c\u767c\u73fe\u5230\u8a72 ",(0,r.kt)("inlineCode",{parentName:"p"},"IPAM")," \u8207 ",(0,r.kt)("inlineCode",{parentName:"p"},"Azure")," \u7684\u67b6\u69cb\u672c\u8eab\u6709\u5f37\u70c8\u7684\u6574\u5408\uff0c\u900f\u904e ",(0,r.kt)("inlineCode",{parentName:"p"},"Azure VNET")," \u7684\u8a2d\u5b9a\u4f86\u63a7\u7ba1\u6bcf\u500b\u7bc0\u9ede\u4e0a\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"Pod")," \u80fd\u5920\u4f7f\u7528\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"IP")," \u7bc4\u570d\u8207\u6578\u91cf\u3002"),(0,r.kt)("p",null,"\u6700\u5f8c\u6211\u5011\u7528\u4e00\u5f35\u6d41\u7a0b\u5716\u4f86\u5e6b\u672c\u6587\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"CNI")," \u505a\u4e00\u500b\u7e3d\u7d50\n",(0,r.kt)("img",{parentName:"p",src:"https://i.imgur.com/robQsi1.png",alt:"Imgur"})),(0,r.kt)("p",null,"\u4e0b\u4e00\u7bc7\u6587\u7ae0\u6703\u8457\u91cd\u5728\u6b64\u57fa\u790e\u4e0a\uff0c\u7576\u4e0a\u8ff0\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"L2 Bridge")," \u8207 ",(0,r.kt)("inlineCode",{parentName:"p"},"IPAM")," \u90fd\u8655\u7406\u5b8c\u7562\u5f8c\uff0c\u9019\u4e9b ",(0,r.kt)("inlineCode",{parentName:"p"},"Pod")," \u5f7c\u6b64\u4e2d\u9593\u662f\u600e\u9ebc\u6e9d\u901a\u7684\uff0c\u4e0d\u8ad6\u662f\u540c\u7bc0\u9ede\u6216\u662f\u8de8\u7bc0\u9ede\u7684\u50b3\u8f38\uff0c\u7279\u5225\u662f\u9019\u4e9b\u7bc0\u9ede\u5be6\u969b\u4e0a\u90fd\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"VM")," \u7684\u60c5\u6cc1\u4e0b\uff0c\u662f\u8981\u5982\u4f55\u505a\u5230\u8de8\u7bc0\u9ede\u50b3\u8f38\u7684"),(0,r.kt)("h1",{id:"reference"},"Reference"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/en-us/azure/aks/ssh"},"Connect with SSH to Azure Kubernetes Service (AKS) cluster nodes")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/Azure/azure-container-networking/tree/master/cni"},"Github-Azure-Container-Networking")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://kubernetes.io/docs/tasks/administer-cluster/reserve-compute-resources/"},"reserve-compute-resources"))))}u.isMDXComponent=!0}}]);