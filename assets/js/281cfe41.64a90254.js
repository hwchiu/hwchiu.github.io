"use strict";(self.webpackChunkhwchiu=self.webpackChunkhwchiu||[]).push([[58063],{3905:(e,n,t)=>{t.d(n,{Zo:()=>u,kt:()=>m});var r=t(67294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var i=r.createContext({}),d=function(e){var n=r.useContext(i),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},u=function(e){var n=d(e.components);return r.createElement(i.Provider,{value:n},e.children)},k="mdxType",c={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},p=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,s=e.originalType,i=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),k=d(t),p=a,m=k["".concat(i,".").concat(p)]||k[p]||c[p]||s;return t?r.createElement(m,l(l({ref:n},u),{},{components:t})):r.createElement(m,l({ref:n},u))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var s=t.length,l=new Array(s);l[0]=p;var o={};for(var i in n)hasOwnProperty.call(n,i)&&(o[i]=n[i]);o.originalType=e,o[k]="string"==typeof e?e:a,l[1]=o;for(var d=2;d<s;d++)l[d]=t[d];return r.createElement.apply(null,l)}return r.createElement.apply(null,t)}p.displayName="MDXCreateElement"},63010:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>l,default:()=>c,frontMatter:()=>s,metadata:()=>o,toc:()=>d});var r=t(87462),a=(t(67294),t(3905));const s={title:"K3D \u8207KIND \u7684\u90e8\u7f72\u793a\u7bc4",sidebar_position:6,tags:["iThome","DevOps","Kubernetes"],description:"iThome-2020 \u7cfb\u5217\u6587\u7ae0",date:new Date("2020-11-08T12:09:28.000Z")},l="K3D",o={unversionedId:"2020/iThome_Challenge/cicd-6",id:"2020/iThome_Challenge/cicd-6",title:"K3D \u8207KIND \u7684\u90e8\u7f72\u793a\u7bc4",description:"iThome-2020 \u7cfb\u5217\u6587\u7ae0",source:"@site/docs/2020/iThome_Challenge/cicd-6.md",sourceDirName:"2020/iThome_Challenge",slug:"/2020/iThome_Challenge/cicd-6",permalink:"/docs/2020/iThome_Challenge/cicd-6",draft:!1,tags:[{label:"iThome",permalink:"/docs/tags/i-thome"},{label:"DevOps",permalink:"/docs/tags/dev-ops"},{label:"Kubernetes",permalink:"/docs/tags/kubernetes"}],version:"current",lastUpdatedBy:"HWC",sidebarPosition:6,frontMatter:{title:"K3D \u8207KIND \u7684\u90e8\u7f72\u793a\u7bc4",sidebar_position:6,tags:["iThome","DevOps","Kubernetes"],description:"iThome-2020 \u7cfb\u5217\u6587\u7ae0",date:"2020-11-08T12:09:28.000Z"},sidebar:"techPost",previous:{title:"\u6dfa\u8ac7\u672c\u5730\u90e8\u7f72 Kubernetes \u7684\u5404\u985e\u9078\u64c7",permalink:"/docs/2020/iThome_Challenge/cicd-5"},next:{title:"\u672c\u5730\u958b\u767c Kubernetes \u61c9\u7528\u7a0b\u5f0f\u6d41\u7a0b",permalink:"/docs/2020/iThome_Challenge/cicd-7"}},i={},d=[{value:"\u5b89\u88dd",id:"\u5b89\u88dd",level:2},{value:"\u5275\u5efa Cluster",id:"\u5275\u5efa-cluster",level:2},{value:"\u5b58\u53d6 Kubernetes",id:"\u5b58\u53d6-kubernetes",level:2},{value:"\u52d5\u614b\u65b0\u589e\u7bc0\u9ede",id:"\u52d5\u614b\u65b0\u589e\u7bc0\u9ede",level:2},{value:"\u5275\u5efa Cluster",id:"\u5275\u5efa-cluster-1",level:2}],u={toc:d},k="wrapper";function c(e){let{components:n,...t}=e;return(0,a.kt)(k,(0,r.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"k3d"},"K3D"),(0,a.kt)("p",null,"\u4e0a\u7bc7\u6587\u7ae0\u4e2d\u6709\u63d0\u5230 K3D \u662f\u7531 Rancher \u6240\u7dad\u8b77\u4e14\u958b\u767c\u7684\u6280\u8853\uff0c\u5176\u76ee\u7684\u662f\u5c07 Rancher \u7dad\u8b77\u7684\u8f15\u91cf\u7d1a Kubernetes \u7248\u672c ",(0,a.kt)("inlineCode",{parentName:"p"},"k3s")," \u4ee5 Docker \u7684\u5f62\u5f0f\u5efa\u7acb\u8d77\u4f86\uff0c\u900f\u904e Docker Container \u7684\u5275\u5efa\u5c31\u53ef\u4ee5\u8f15\u9b06\u7684\u5efa\u7acb\u591a\u500b Kubernetes \u7bc0\u9ede"),(0,a.kt)("p",null,"\u66f4\u591a\u8a73\u7d30\u4ecb\u7d39\u8acb\u53c3\u95b1",(0,a.kt)("a",{parentName:"p",href:"https://github.com/rancher/k3d"},"\u5b98\u65b9Repo")),(0,a.kt)("h2",{id:"\u5b89\u88dd"},"\u5b89\u88dd"),(0,a.kt)("p",null,"\u5b89\u88dd\u904e\u7a0b\u975e\u5e38\u7c21\u55ae\uff0c\u4e00\u884c\u6307\u4ee4\u5c31\u53ef\u4ee5"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo curl -s https://raw.githubusercontent.com/rancher/k3d/main/install.sh | bash\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'$ k3d\nUsage:\n  k3d [flags]\n  k3d [command]\n\nAvailable Commands:\n  cluster     Manage cluster(s)\n  completion  Generate completion scripts for [bash, zsh, powershell | psh]\n  help        Help about any command\n  image       Handle container images.\n  kubeconfig  Manage kubeconfig(s)\n  node        Manage node(s)\n  version     Show k3d and default k3s version\n\nFlags:\n  -h, --help      help for k3d\n      --verbose   Enable verbose output (debug logging)\n      --version   Show k3d and default k3s version\n\nUse "k3d [command] --help" for more information about a command.\n')),(0,a.kt)("p",null,"\u6574\u500b\u6307\u4ee4\u975e\u5e38\u7c21\u55ae\uff0c\u6bd4\u8f03\u5e38\u898b\u6703\u4f7f\u7528\u7684\u5c31\u662f cluster, kubeconfig \u4ee5\u53ca node"),(0,a.kt)("h2",{id:"\u5275\u5efa-cluster"},"\u5275\u5efa Cluster"),(0,a.kt)("p",null,"\u5275\u5efa\u4e0a\u4e5f\u662f\u975e\u5e38\u7c21\u55ae\uff0c\u8f38\u5165 ",(0,a.kt)("inlineCode",{parentName:"p"},"k3d cluster")," \u53ef\u4ee5\u770b\u5230\u4e00\u4e9b\u8ddf cluster \u76f8\u95dc\u7684\u6307\u4ee4\uff0c\u5be6\u969b\u4e0a\u4f7f\u7528\u7684\u6642\u5019\u90fd\u8981\u63cf\u8ff0\u4f60\u5e0c\u671b\u7684 cluster \u540d\u7a31\uff0c\u9019\u908a\u6211\u5c31\u4e0d\u8f38\u5165\uff0c\u4e00\u5f8b\u63a1\u7528\u9810\u8a2d\u503c ",(0,a.kt)("inlineCode",{parentName:"p"},"k3s-default")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'$ k3d cluster\nManage cluster(s)\n\nUsage:\n  k3d cluster [flags]\n  k3d cluster [command]\n\nAvailable Commands:\n  create      Create a new cluster\n  delete      Delete cluster(s).\n  list        List cluster(s)\n  start       Start existing k3d cluster(s)\n  stop        Stop existing k3d cluster(s)\n\nFlags:\n  -h, --help   help for cluster\n\nGlobal Flags:\n      --verbose   Enable verbose output (debug logging)\n\nUse "k3d cluster [command] --help" for more information about a command\n')),(0,a.kt)("p",null,"\u6211\u5011\u53ef\u4ee5\u900f\u904e ",(0,a.kt)("inlineCode",{parentName:"p"},"k3d cluster create"),"  \u4f86\u5275\u5efa\u4e00\u500b k3s \u7684\u53e2\u96c6\uff0c\u9810\u8a2d\u60c5\u6cc1\u4e0b\u662f\u4e00\u500b\u7bc0\u9ede\uff0c\u6211\u5011\u53ef\u4ee5\u900f\u904e ",(0,a.kt)("inlineCode",{parentName:"p"},"-s")," \u7684\u65b9\u5f0f\u4f86\u6307\u5b9a\u8981\u6709\u591a\u5c11\u500b node."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"$ k3d cluster create -s 3\nINFO[0000] Created network 'k3d-k3s-default'\nINFO[0000] Created volume 'k3d-k3s-default-images'                                                                                                                           INFO[0000] Creating initializing server node\nINFO[0000] Creating node 'k3d-k3s-default-server-0'\nINFO[0009] Creating node 'k3d-k3s-default-server-1'\nINFO[0010] Creating node 'k3d-k3s-default-server-2'\nINFO[0011] Creating LoadBalancer 'k3d-k3s-default-serverlb'\nINFO[0018] Cluster 'k3s-default' created successfully!\nINFO[0018] You can now use it like this:\nkubectl cluster-info\n")),(0,a.kt)("p",null,"\u5275\u5efa\u5b8c\u7562\u5f8c\uff0c\u6211\u5011\u99ac\u4e0a\u900f\u904e ",(0,a.kt)("inlineCode",{parentName:"p"},"docker")," \u6307\u4ee4\u4f86\u89c0\u5bdf\uff0c\u53ef\u4ee5\u89c0\u5bdf\u5230\u7684\u78ba\u6709 docker container \u88ab\u5275\u7acb\u8d77\u4f86\uff0c\u4e0d\u904e\u6578\u91cf\u537b\u662f\u6bd4 server \u9084\u8981\u591a\u4e00\u500b\uff0c\u4e3b\u8981\u662f\u7528\u4f86\u7576\u4f5c load-balancer \u4f7f\u7528"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'$ docker ps\nCONTAINER ID        IMAGE                      COMMAND                  CREATED             STATUS              PORTS                             NAMES\nb5903d159c73        rancher/k3d-proxy:v3.0.1   "/bin/sh -c nginx-pr\u2026"   42 minutes ago      Up 42 minutes       80/tcp, 0.0.0.0:44429->6443/tcp   k3d-k3s-default-serverlb\naaa0cd077a51        rancher/k3s:v1.18.6-k3s1   "/bin/k3s server --t\u2026"   42 minutes ago      Up 42 minutes                                         k3d-k3s-default-server-2\n636968375fd2        rancher/k3s:v1.18.6-k3s1   "/bin/k3s server --t\u2026"   42 minutes ago      Up 42 minutes                                         k3d-k3s-default-server-1\n5bfb8b1c64bb        rancher/k3s:v1.18.6-k3s1   "/bin/k3s server --c\u2026"   43 minutes ago      Up 43 minutes                                         k3d-k3s-default-server-0\n')),(0,a.kt)("h2",{id:"\u5b58\u53d6-kubernetes"},"\u5b58\u53d6 Kubernetes"),(0,a.kt)("p",null,"\u70ba\u4e86\u5b58\u53d6 Kubernetes\uff0c\u6211\u5011\u90fd\u6703\u9700\u8981\u6e96\u5099\u4e00\u4efd ",(0,a.kt)("inlineCode",{parentName:"p"},"KUBECONFIG")," \u88e1\u9762\u63cf\u8ff0 API Server \u7684\u4f4d\u7f6e\uff0c\u4ee5\u53ca\u4f7f\u7528\u5230\u7684 Username \u7b49\u8cc7\u8a0a\uff0c\u9019\u90e8\u5206 ",(0,a.kt)("inlineCode",{parentName:"p"},"k3d")," \u4e5f\u6709\u63d0\u4f9b\u76f8\u95dc\u7684\u6307\u4ee4\u4f86\u8655\u7406 KUBECONFIG"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'$ k3d kubeconfig\nManage kubeconfig(s)\n\nUsage:\n  k3d kubeconfig [flags]\n  k3d kubeconfig [command]\n\nAvailable Commands:\n  get         Print kubeconfig(s) from cluster(s).\n  merge       Write/Merge kubeconfig(s) from cluster(s) into new or existing kubeconfig/file.\n\nFlags:\n  -h, --help   help for kubeconfig\n\nGlobal Flags:\n      --verbose   Enable verbose output (debug logging)\n\nUse "k3d kubeconfig [command] --help" for more information about a command.\n')),(0,a.kt)("p",null,"\u70ba\u4e86\u7c21\u55ae\u6e2c\u8a66\uff0c\u6211\u5011\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 ",(0,a.kt)("inlineCode",{parentName:"p"},"k3d kubeconfig merge")," \u8b93\u4ed6\u7522\u751f\u4e00\u500b\u5168\u65b0\u7684\u6a94\u6848"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"$ k3d kubeconfig merge\n/home/ubuntu/.k3d/kubeconfig-k3s-default.yaml\n$ KUBECONFIG=~/.k3d/kubeconfig-k3s-default.yaml kubectl get nodes\nNAME                       STATUS     ROLES    AGE     VERSION\nk3d-k3s-default-server-2   Ready      master   50m     v1.18.6+k3s1\nk3d-k3s-default-server-1   Ready      master   50m     v1.18.6+k3s1\nk3d-k3s-default-server-0   Ready      master   50m     v1.18.6+k3s1\n")),(0,a.kt)("p",null,"\u5275\u5efa\u5b8c\u7562\u5f8c\u900f\u904e KUBECONFIG \u9019\u500b\u74b0\u5883\u8b8a\u6578\u6307\u5411\u8a72\u6a94\u6848\uff0c\u5c31\u53ef\u4ee5\u5229\u7528 kubectl \u6307\u4ee4\u4f86\u64cd\u4f5c\u5275\u5efa\u8d77\u4f86\u7684 k3s \u53e2\u96c6"),(0,a.kt)("h2",{id:"\u52d5\u614b\u65b0\u589e\u7bc0\u9ede"},"\u52d5\u614b\u65b0\u589e\u7bc0\u9ede"),(0,a.kt)("p",null,"\u5982\u679c\u4eca\u5929\u60f3\u8981\u52d5\u614b\u65b0\u589e\u7bc0\u9ede\uff0c\u4e5f\u53ef\u4ee5\u900f\u904e ",(0,a.kt)("inlineCode",{parentName:"p"},"k3d node create")," \u6307\u4ee4\u4f86\u64cd\u4f5c"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"$ k3d node create --role server hwchiu-test\n$ k3d node list\nNAME                       ROLE           CLUSTER       STATUS\nk3d-hwchiu-test-0          server         k3s-default   running\nk3d-k3s-default-server-0   server         k3s-default   running\nk3d-k3s-default-server-1   server         k3s-default   running\nk3d-k3s-default-server-2   server         k3s-default   running\nk3d-k3s-default-serverlb   loadbalancer   k3s-default   running\n$ KUBECONFIG=~/.k3d/kubeconfig-k3s-default.yaml kubectl get nodes\nNAME                       STATUS     ROLES    AGE     VERSION\nk3d-k3s-default-server-0   Ready      master   51m     v1.18.6+k3s1\nk3d-k3s-default-server-2   Ready      master   51m     v1.18.6+k3s1\nk3d-k3s-default-server-1   Ready      master   51m     v1.18.6+k3s1\nk3d-hwchiu-test-0          Ready      master   9s      v1.18.6+k3s1\n")),(0,a.kt)("p",null,"\u6574\u500b\u4f7f\u7528\u4e0a\u7684\u4ecb\u7d39\u5c31\u5230\u9019\u908a\uff0c\u57fa\u672c\u4e0a\u4e0d\u6703\u592a\u56f0\u96e3\uff0c\u800c\u4e14\u6307\u4ee4\u7c21\u55ae\uff0c\u60f3\u8981\u5feb\u901f\u67b6\u8d77\u591a\u7bc0\u9ede\u7684 Kubernetes\uff0c\u53ef\u4ee5\u5617\u8a66\u4f7f\u7528\u770b\u770b\u9019\u5957\u8edf\u9ad4"),(0,a.kt)("h1",{id:"kind"},"KIND"),(0,a.kt)("p",null,"\u63a5\u4e0b\u4f86\u6211\u5011\u4f86\u770b\u53e6\u5916\u4e00\u5957\u4e5f\u662f\u57fa\u65bc Docker \u70ba\u57fa\u790e\u7684\u591a\u7bc0\u9ede\u5efa\u7f6e\u5de5\u5177 KIND, \u76f8\u5c0d\u65bc K3D\uff0c KIND \u662f\u5b8c\u6574\u7248\u672c\u7684 Kubernetes\uff0c\u7531 Kubernetes \u793e\u7fa4\u7dad\u8b77\uff0c\u4f7f\u7528\u4e0a\u4e5f\u662f\u975e\u5e38\u7c21\u55ae\uff0c\u8a73\u7d30\u7684\u4ecb\u7d39\u53ef\u4ee5\u53c3\u95b1 ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/kubernetes-sigs/kind"},"\u5b98\u65b9Repo")),(0,a.kt)("h1",{id:"\u5b89\u88dd-1"},"\u5b89\u88dd"),(0,a.kt)("p",null,"\u5b89\u88dd\u904e\u7a0b\u975e\u5e38\u7c21\u55ae\uff0c\u4e5f\u662f\u4e00\u4e9b script \u7684\u884c\u70ba\u5c31\u53ef\u4ee5\u8655\u7406\u5b8c\u7562\uff0c\u8ddf ",(0,a.kt)("inlineCode",{parentName:"p"},"k3d")," \u4e00\u6a23\uff0c\u6240\u6709\u7684\u64cd\u4f5c\u904e\u7a0b\u90fd\u662f\u5728\u672c\u5730\u7684 binary \u5b8c\u6210\u7684"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'curl -Lo ./kind "https://github.com/kubernetes-sigs/kind/releases/download/v0.7.0/kind-$(uname)-amd64"\nchmod a+x ./kind\nsudo mv ./kind /usr/local/bin/kind\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"$ kind\nkind creates and manages local Kubernetes clusters using Docker container 'nodes'\n\nUsage:\n  kind [command]\n\nAvailable Commands:\n  build       Build one of [base-image, node-image]\n  completion  Output shell completion code for the specified shell (bash or zsh)\n  create      Creates one of [cluster]\n  delete      Deletes one of [cluster]\n  export      Exports one of [kubeconfig, logs]\n  get         Gets one of [clusters, nodes, kubeconfig]\n  help        Help about any command\n  load        Loads images into nodes\n  version     Prints the kind CLI version\n\nFlags:\n  -h, --help              help for kind\n      --loglevel string   DEPRECATED: see -v instead\n  -q, --quiet             silence all stderr output\n  -v, --verbosity int32   info log verbosity\n      --version           version for kind\n\nUse \"kind [command] --help\" for more information about a command.\n")),(0,a.kt)("p",null,"\u6e2c\u8a66\u4e0a\u6700\u5e38\u7528\u5230\u7684\u6307\u4ee4\u5c31\u662f ",(0,a.kt)("inlineCode",{parentName:"p"},"create"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"delete")," \u4ee5\u53ca ",(0,a.kt)("inlineCode",{parentName:"p"},"load")," \uff0c\u9019\u5169\u8005\u53ef\u4ee5\u5e6b\u5fd9\u5275\u5efa\u8207\u522a\u9664 kubernetes cluster, \u5f8c\u8005\u5247\u53ef\u4ee5\u5c07\u4e00\u4e9b container image \u9001\u5230 docker container \u4e2d\uff0c\u9019\u6a23\u4f60\u7684 kubernetes cluster \u5982\u679c\u8981\u6293\u53d6 image \u5c31\u53ef\u4ee5\u76f4\u63a5\u5f9e\u672c\u5730\u6293\u53d6\u3002"),(0,a.kt)("h2",{id:"\u5275\u5efa-cluster-1"},"\u5275\u5efa Cluster"),(0,a.kt)("p",null,"\u63a5\u4e0b\u4f86\u6211\u5011\u8981\u7528 ",(0,a.kt)("inlineCode",{parentName:"p"},"kind create cluster")," \u4f86\u5275\u5efa\u4e00\u500b\u57fa\u65bc docker \u7684 Kubernetes \u53e2\u96c6\uff0c\u9810\u8a2d\u60c5\u6cc1\u4e0b\u53ea\u6703\u5275\u5efa\u51fa\u4e00\u500b\u55ae\u4e00\u7bc0\u9ede\uff0c\u5982\u679c\u60f3\u8981\u5275\u5efa\u66f4\u591a\u7bc0\u9ede\uff0c\u6211\u5011\u8981\u900f\u904e config \u7684\u65b9\u5f0f\u544a\u77e5 KIND \u6211\u5011\u9700\u8981\u7684\u62d3\u58a3\u5f62\u72c0"),(0,a.kt)("p",null,"\u56e0\u6b64\u4e8b\u5148\u6e96\u5099\u597d\u4e0b\u5217\u6a94\u6848 kind.yaml"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"kind: Cluster\napiVersion: kind.sigs.k8s.io/v1alpha3\nnodes:\n- role: control-plane\n- role: worker\n- role: worker\n")),(0,a.kt)("p",null,"\u88e1\u9762\u63cf\u8ff0\u6211\u5011\u9700\u8981\u4e09\u500b node, \u5176\u4e2d\u4e00\u500b\u4ee3\u8868 control-plane, \u53e6\u5916\u5169\u500b\u5247\u662f\u55ae\u7d14\u7684 worker, \u7136\u5f8c\u5c07\u8a72 config \u50b3\u5165 KIND \u4e00\u8d77\u4f7f\u7528"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'$ kind create cluster --config kind.yaml\nCreating cluster "kind" ...\n \u2713 Ensuring node image (kindest/node:v1.17.0) \ud83d\uddbc\n \u2713 Preparing nodes \ud83d\udce6 \ud83d\udce6 \ud83d\udce6\n \u2713 Writing configuration \ud83d\udcdc\n \u2713 Starting control-plane \ud83d\udd79\ufe0f\n \u2713 Installing CNI \ud83d\udd0c\n \u2713 Installing StorageClass \ud83d\udcbe\n \u2713 Joining worker nodes \ud83d\ude9c\nSet kubectl context to "kind-kind"\nYou can now use your cluster with:\n\nkubectl cluster-info --context kind-kind\n\nHave a question, bug, or feature request? Let us know! https://kind.sigs.k8s.io/#community \ud83d\ude42\n')),(0,a.kt)("p",null,"\u5275\u5efa\u5b8c\u7562\u5f8c\uff0c\u76f4\u63a5\u4f7f\u7528 ",(0,a.kt)("inlineCode",{parentName:"p"},"docker ps")," \u4f86\u89c0\u5bdf\u7d50\u679c"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'$ docker ps\nCONTAINER ID        IMAGE                  COMMAND                  CREATED             STATUS              PORTS                       NAMES\n97d7d804ea75        kindest/node:v1.17.0   "/usr/local/bin/entr\u2026"   4 minutes ago       Up 4 minutes                                    kind-worker2\n9085118d47b3        kindest/node:v1.17.0   "/usr/local/bin/entr\u2026"   4 minutes ago       Up 4 minutes        127.0.0.1:32768->6443/tcp   kind-control-plane\nb9eedb6d5f38        kindest/node:v1.17.0   "/usr/local/bin/entr\u2026"   4 minutes ago       Up 4 minutes                                    kind-worker\n')),(0,a.kt)("p",null,"\u53ef\u4ee5\u89c0\u5bdf\u5230\u7684\u78ba\u6709\u76f8\u5c0d\u61c9\u6578\u91cf\u7684 docker container \u88ab\u53eb\u8d77\u4f86\uff0c\u4e0d\u540c\u65bc ",(0,a.kt)("inlineCode",{parentName:"p"},"k3d"),"\uff0c ",(0,a.kt)("inlineCode",{parentName:"p"},"kind")," \u4e26\u4e0d\u6703\u5e6b\u5fd9\u6e96\u5099\u984d\u5916\u7684 load-balancer\uff0c\u6240\u4ee5\u6578\u91cf\u5c31\u662f\u6211\u5011\u6307\u5b9a\u7684\u6578\u91cf"),(0,a.kt)("p",null,"\u4e0d\u540c\u65bc ",(0,a.kt)("inlineCode",{parentName:"p"},"k3d"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"kind")," \u672c\u8eab\u5275\u5efa\u5b8c\u7562\u5f8c\u5c31\u6703\u76f4\u63a5\u628a\u76f8\u95dc\u7684 KUBECONFIG \u7d66\u5beb\u5165\u5230 ",(0,a.kt)("inlineCode",{parentName:"p"},"$home/.kube/config")," \u88e1\u9762\uff0c\u56e0\u6b64\u4f7f\u7528\u8005\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u9810\u8a2d\u7684\u4f4d\u7f6e\u4f86\u9032\u884c\u4f7f\u7528"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"$ kubectl get nodes\nNAME                 STATUS   ROLES    AGE   VERSION\nkind-control-plane   Ready    master   13m   v1.17.0\nkind-worker          Ready    <none>   12m   v1.17.0\nkind-worker2         Ready    <none>   12m   v1.17.0\n")),(0,a.kt)("p",null,"KIND \u672c\u8eab\u4e26\u6c92\u6709\u8fa6\u6cd5\u52d5\u614b\u589e\u52a0\u7bc0\u9ede\uff0c\u9019\u500b\u662f\u4f7f\u7528\u4e0a\u7684\u9650\u5236\uff0c\u4e0d\u904e\u6211\u8a8d\u70ba\u9019\u500b\u529f\u80fd\u4e0d\u6703\u5f71\u97ff\u592a\u591a\uff0c\u7562\u7adf\u4f5c\u70ba\u4e00\u500b\u672c\u5730\u6e2c\u8a66\u7684\u7bc0\u9ede\uff0c\u6709\u4efb\u4f55\u554f\u984c\u5c31\u780d\u6389\u91cd\u5efa\u5c31\u597d\uff0c\u82b1\u8cbb\u7684\u6642\u9593\u4e5f\u4e0d\u6703\u592a\u9577\u3002"))}c.isMDXComponent=!0}}]);