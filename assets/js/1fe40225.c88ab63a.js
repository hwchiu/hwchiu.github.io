"use strict";(self.webpackChunkhwchiu=self.webpackChunkhwchiu||[]).push([[1567],{3905:(t,e,o)=>{o.d(e,{Zo:()=>c,kt:()=>k});var l=o(67294);function r(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function n(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);e&&(l=l.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,l)}return o}function a(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?n(Object(o),!0).forEach((function(e){r(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function i(t,e){if(null==t)return{};var o,l,r=function(t,e){if(null==t)return{};var o,l,r={},n=Object.keys(t);for(l=0;l<n.length;l++)o=n[l],e.indexOf(o)>=0||(r[o]=t[o]);return r}(t,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(l=0;l<n.length;l++)o=n[l],e.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(t,o)&&(r[o]=t[o])}return r}var p=l.createContext({}),s=function(t){var e=l.useContext(p),o=e;return t&&(o="function"==typeof t?t(e):a(a({},e),t)),o},c=function(t){var e=s(t.components);return l.createElement(p.Provider,{value:e},t.children)},u="mdxType",d={inlineCode:"code",wrapper:function(t){var e=t.children;return l.createElement(l.Fragment,{},e)}},m=l.forwardRef((function(t,e){var o=t.components,r=t.mdxType,n=t.originalType,p=t.parentName,c=i(t,["components","mdxType","originalType","parentName"]),u=s(o),m=r,k=u["".concat(p,".").concat(m)]||u[m]||d[m]||n;return o?l.createElement(k,a(a({ref:e},c),{},{components:o})):l.createElement(k,a({ref:e},c))}));function k(t,e){var o=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var n=o.length,a=new Array(n);a[0]=m;var i={};for(var p in e)hasOwnProperty.call(e,p)&&(i[p]=e[p]);i.originalType=t,i[u]="string"==typeof t?t:r,a[1]=i;for(var s=2;s<n;s++)a[s]=o[s];return l.createElement.apply(null,a)}return l.createElement.apply(null,o)}m.displayName="MDXCreateElement"},94618:(t,e,o)=>{o.r(e),o.d(e,{assets:()=>p,contentTitle:()=>a,default:()=>d,frontMatter:()=>n,metadata:()=>i,toc:()=>s});var l=o(87462),r=(o(67294),o(3905));const n={title:"FloodlightModule-Topology module",date:"2013-08-17 13:17",tags:["SDN","Floodlight","Openflow","Network","SourceCode"],description:"\u672c\u6587\u57fa\u65bc SDN Controller Floodlight \u7684\u539f\u59cb\u78bc\u9032\u884c\u4e86\u4e00\u6b21\u7c21\u55ae\u7684\u5206\u6790\uff0c\u85c9\u7531\u5206\u6790\u9019\u4e9b\u539f\u59cb\u78bc\u66f4\u53ef\u4ee5\u5b78\u7fd2\u5230\u5176\u5167\u90e8\u95dc\u65bc\u7db2\u8def\u62d3\u6a38\u7684\u8655\u7406\uff0c\u9019\u4e9b\u62d3\u6a38\u9664\u4e86\u5f71\u97ff Controller \u600e\u9ebc\u770b\u5f85\u6574\u500b\u7db2\u8def\u4e4b\u5916\uff0c\u4e5f\u6703\u9593\u63a5\u7684\u5f71\u97ff\u8a72 Controoler \u8981\u5982\u4f55\u53bb\u6b63\u78ba\u7684\u8f49\u9001\u5c01\u5305\u3002\u76f8\u5c0d\u65bc\u6587\u4ef6\u7684\u66f4\u65b0\uff0c\u7a0b\u5f0f\u78bc\u672c\u8eab\u7684\u8fed\u4ee3\u901f\u5ea6\u66f4\u70ba\u654f\u6377\uff0c\u56e0\u6b64\u5e38\u5e38\u6703\u767c\u751f\u6587\u4ef6\u8ddf\u4e0d\u4e0a\u5be6\u969b\u904b\u884c\u529f\u80fd\u7684\u6848\u4f8b\u3002\u85c9\u7531\u5b78\u7fd2\u95b1\u8b80\u539f\u59cb\u78bc\uff0c\u6211\u5011\u53ef\u4ee5\u66f4\u5feb\u4e5f\u66f4\u6e05\u695a\u7684\u638c\u63e1\u7576\u524d\u9019\u4e9b\u958b\u6e90\u8edf\u9ad4\u7684\u767c\u5c55\u72c0\u614b\uff0c\u751a\u81f3\u4e5f\u80fd\u5920\u8ca2\u737b\u793e\u7fa4\u5e6b\u5fd9\u88dc\u9f4a\u6587\u4ef6\u3002"},a="Preface",i={unversionedId:"techPost/2013/floodlightmodule-topology",id:"techPost/2013/floodlightmodule-topology",title:"FloodlightModule-Topology module",description:"\u672c\u6587\u57fa\u65bc SDN Controller Floodlight \u7684\u539f\u59cb\u78bc\u9032\u884c\u4e86\u4e00\u6b21\u7c21\u55ae\u7684\u5206\u6790\uff0c\u85c9\u7531\u5206\u6790\u9019\u4e9b\u539f\u59cb\u78bc\u66f4\u53ef\u4ee5\u5b78\u7fd2\u5230\u5176\u5167\u90e8\u95dc\u65bc\u7db2\u8def\u62d3\u6a38\u7684\u8655\u7406\uff0c\u9019\u4e9b\u62d3\u6a38\u9664\u4e86\u5f71\u97ff Controller \u600e\u9ebc\u770b\u5f85\u6574\u500b\u7db2\u8def\u4e4b\u5916\uff0c\u4e5f\u6703\u9593\u63a5\u7684\u5f71\u97ff\u8a72 Controoler \u8981\u5982\u4f55\u53bb\u6b63\u78ba\u7684\u8f49\u9001\u5c01\u5305\u3002\u76f8\u5c0d\u65bc\u6587\u4ef6\u7684\u66f4\u65b0\uff0c\u7a0b\u5f0f\u78bc\u672c\u8eab\u7684\u8fed\u4ee3\u901f\u5ea6\u66f4\u70ba\u654f\u6377\uff0c\u56e0\u6b64\u5e38\u5e38\u6703\u767c\u751f\u6587\u4ef6\u8ddf\u4e0d\u4e0a\u5be6\u969b\u904b\u884c\u529f\u80fd\u7684\u6848\u4f8b\u3002\u85c9\u7531\u5b78\u7fd2\u95b1\u8b80\u539f\u59cb\u78bc\uff0c\u6211\u5011\u53ef\u4ee5\u66f4\u5feb\u4e5f\u66f4\u6e05\u695a\u7684\u638c\u63e1\u7576\u524d\u9019\u4e9b\u958b\u6e90\u8edf\u9ad4\u7684\u767c\u5c55\u72c0\u614b\uff0c\u751a\u81f3\u4e5f\u80fd\u5920\u8ca2\u737b\u793e\u7fa4\u5e6b\u5fd9\u88dc\u9f4a\u6587\u4ef6\u3002",source:"@site/docs/techPost/2013/floodlightmodule-topology.md",sourceDirName:"techPost/2013",slug:"/techPost/2013/floodlightmodule-topology",permalink:"/docs/techPost/2013/floodlightmodule-topology",draft:!1,tags:[{label:"SDN",permalink:"/docs/tags/sdn"},{label:"Floodlight",permalink:"/docs/tags/floodlight"},{label:"Openflow",permalink:"/docs/tags/openflow"},{label:"Network",permalink:"/docs/tags/network"},{label:"SourceCode",permalink:"/docs/tags/source-code"}],version:"current",frontMatter:{title:"FloodlightModule-Topology module",date:"2013-08-17 13:17",tags:["SDN","Floodlight","Openflow","Network","SourceCode"],description:"\u672c\u6587\u57fa\u65bc SDN Controller Floodlight \u7684\u539f\u59cb\u78bc\u9032\u884c\u4e86\u4e00\u6b21\u7c21\u55ae\u7684\u5206\u6790\uff0c\u85c9\u7531\u5206\u6790\u9019\u4e9b\u539f\u59cb\u78bc\u66f4\u53ef\u4ee5\u5b78\u7fd2\u5230\u5176\u5167\u90e8\u95dc\u65bc\u7db2\u8def\u62d3\u6a38\u7684\u8655\u7406\uff0c\u9019\u4e9b\u62d3\u6a38\u9664\u4e86\u5f71\u97ff Controller \u600e\u9ebc\u770b\u5f85\u6574\u500b\u7db2\u8def\u4e4b\u5916\uff0c\u4e5f\u6703\u9593\u63a5\u7684\u5f71\u97ff\u8a72 Controoler \u8981\u5982\u4f55\u53bb\u6b63\u78ba\u7684\u8f49\u9001\u5c01\u5305\u3002\u76f8\u5c0d\u65bc\u6587\u4ef6\u7684\u66f4\u65b0\uff0c\u7a0b\u5f0f\u78bc\u672c\u8eab\u7684\u8fed\u4ee3\u901f\u5ea6\u66f4\u70ba\u654f\u6377\uff0c\u56e0\u6b64\u5e38\u5e38\u6703\u767c\u751f\u6587\u4ef6\u8ddf\u4e0d\u4e0a\u5be6\u969b\u904b\u884c\u529f\u80fd\u7684\u6848\u4f8b\u3002\u85c9\u7531\u5b78\u7fd2\u95b1\u8b80\u539f\u59cb\u78bc\uff0c\u6211\u5011\u53ef\u4ee5\u66f4\u5feb\u4e5f\u66f4\u6e05\u695a\u7684\u638c\u63e1\u7576\u524d\u9019\u4e9b\u958b\u6e90\u8edf\u9ad4\u7684\u767c\u5c55\u72c0\u614b\uff0c\u751a\u81f3\u4e5f\u80fd\u5920\u8ca2\u737b\u793e\u7fa4\u5e6b\u5fd9\u88dc\u9f4a\u6587\u4ef6\u3002"},sidebar:"techPost",previous:{title:"FloodlightModule-Forwarding",permalink:"/docs/techPost/2013/floodlightmodule-forwarding"},next:{title:"Floodlight Dijkstra",permalink:"/docs/techPost/2013/floodlights-dijkstra"}},p={},s=[{value:"Cluster",id:"cluster",level:2},{value:"ITopologyListener",id:"itopologylistener",level:2},{value:"ITopologyService",id:"itopologyservice",level:2},{value:"NodePair",id:"nodepair",level:2},{value:"OrderdNodePair",id:"orderdnodepair",level:2},{value:"NodePortTuple",id:"nodeporttuple",level:2},{value:"TopologyInstance",id:"topologyinstance",level:2},{value:"TopologyManager",id:"topologymanager",level:2}],c={toc:s},u="wrapper";function d(t){let{components:e,...o}=t;return(0,r.kt)(u,(0,l.Z)({},c,o,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"preface"},"Preface"),(0,r.kt)("p",null,"Floodlight\u4e2d\uff0cTopology\u662f\u4e00\u500b\u5f88\u5927\u7684module\uff0c\u727d\u626f\u5230\u6574\u500b\u7db2\u8def\u62d3\u6a38\u7684\u904b\u7b97\u3001\u7dad\u8b77\n\u540c\u6642\u4e5f\u6703\u7dad\u8b77routing\u8def\u5f91\u4ee5\u53cabroadcast tree\u7684\u3127\u4e9b\u8cc7\u8a0a\u3002"),(0,r.kt)("h1",{id:"architecture"},"Architecture"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Cluster.java"),(0,r.kt)("li",{parentName:"ul"},"ITopologyListener.java"),(0,r.kt)("li",{parentName:"ul"},"ITopologyService.java"),(0,r.kt)("li",{parentName:"ul"},"NodePair.java"),(0,r.kt)("li",{parentName:"ul"},"NodePortTuple.java"),(0,r.kt)("li",{parentName:"ul"},"OrderedNodePair.java"),(0,r.kt)("li",{parentName:"ul"},"TopologyInstance.java"),(0,r.kt)("li",{parentName:"ul"},"TopologyManager.java"),(0,r.kt)("li",{parentName:"ul"},"web")),(0,r.kt)("h2",{id:"cluster"},"Cluster"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"Cluster"),"\n\u518dcontroller\u7684\u89c0\u9ede\u4e2d\uff0c\u3127\u500bcluster\u5c31\u662f\u4e00\u500bSCC( strongly connective component)\uff0ccluster\u4e2d\u7684switch\u90fd\u6709\u8fa6\u6cd5\u5230\u9054\u5f7c\u6b64\uff0c\u56e0\u6b64\u4e0d\u540ccluster\u9593\u7684switch\u57fa\u672c\u4e0a\u4e0d\u80fd\u4e92\u76f8\u50b3\u9001\u8cc7\u6599\uff0c\u9664\u975e\u4e2d\u9593\u7d93\u904e\u3127\u4e9b\u50b3\u7d71\u7684switch( controller\u4e0d\u77e5\u9053\u6709\u50b3\u7d71switch\u7684\u5b58\u5728)"),(0,r.kt)("p",null,"\u9019\u500b\u6a94\u6848\u5b9a\u7fa9\u3127\u500bcluster\u6240\u9700\u8981\u7684\u57fa\u672c\u5c6c\u6027"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"   protected long id; // the lowest id of the nodes\n   protected Map<Long, Set<Link>> links; // set of links connected to a node.\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"id:\u8a72cluster\u4e2d\u6700\u5c0fID\u7684switch dpid."),(0,r.kt)("li",{parentName:"ul"},"links:\u8a72cluster\u4e2d\u6240\u6709\u7684link,\u6bcf\u500blink\u5305\u542b",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"soruce switch dpid"),(0,r.kt)("li",{parentName:"ul"},"source switch port"),(0,r.kt)("li",{parentName:"ul"},"destination switch dpid"),(0,r.kt)("li",{parentName:"ul"},"destination switch port")))),(0,r.kt)("h2",{id:"itopologylistener"},"ITopologyListener"),(0,r.kt)("p",null,"Topology\u63d0\u4f9b\u7684callBack function."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"void topologyChanged(List<LDUpdate> linkUpdates);\n")),(0,r.kt)("p",null,"\u7576\u6709\u62d3\u6a38\u767c\u751f\u8b8a\u5316\u7684\u6642\u5019\uff0c\u5c31\u6703\u547c\u53eb\u6b64function,\u4e26\u4e14\u628a\u6240\u6709\u8b8a\u52d5\u7684Link (LLDP)\u90fd\u7576\u4f5c\u53c3\u6578\u50b3\u5165\u3002"),(0,r.kt)("h2",{id:"itopologyservice"},"ITopologyService"),(0,r.kt)("p",null,"Topology\u63d0\u4f9b\u7684\u4e3b\u52d5API,\u4e3b\u8981\u53ef\u4ee5\u8b93\u5176\u4ed6\u7684module\u4f86\u7372\u53d6topology\u4e0a\u7684\u76f8\u95dc\u8cc7\u8a0a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"isAttachmentPointPort"),"\n\u6839\u64daswitch's dpid\u3001switch port \u5224\u65b7\u662f\u5426\u6709device\u9023\u7d50\u5230\u8a72swtich\u7684port\u4e0a\u9762\u3002\n\u82e5\u5b58\u5728\u5c31\u662f\u56de\u50b3false,\u5426\u5247\u56de\u50b3true,\u4e0d\u6e05\u695a\u70ba\u4ec0\u9ebc\u8981\u53cd\u8f49\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"getOpenflowDomainId"),"\n\u6839\u64daswitch dpid\uff0c\u53d6\u5f97\u8a72swtich\u6240\u5c6ccluster\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"getL2DomainId"),"\n\u76ee\u524d\u7684\u7248\u672c\u4e2d\uff0c\u505a\u7684\u4e8b\u60c5\u540c\u7b49\u65bc ",(0,r.kt)("inlineCode",{parentName:"li"},"getOpenflowDomainId")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"inSameOpenflowDomain"),"\n\u5224\u65b7\u5169\u500bswitch\u662f\u5426\u5c6c\u65bc\u540c\u4e00\u500bcluster\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"getSwitchesInOpenflowDomain"),"\n\u53d6\u5f97\u8a72swtich\u6240\u5c6ccluster\u4e2d\u7684\u6240\u6709switch\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"inSameL2Domain"),"\n\u76ee\u524d\u7684\u7248\u672c\u4e2d\uff0c\u505a\u7684\u4e8b\u60c5\u540c\u7b49\u65bc ",(0,r.kt)("inlineCode",{parentName:"li"},"inSameOpenflowDomain")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"isBroadcastDomainPort"),"\n\u5224\u65b7\u8a72switch\u7684\u67d0\u500bport\u662f\u5426\u5c6c\u65bcbroadcast tree\u7684\u4e00\u90e8\u5206\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"isAllowed"),"\n\u4e0d\u660e\uff0c\u7e3d\u662f\u56de\u50b3true\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"isConsistent"),"\n\u4e0d\u662f\u5f88\u6e05\u695a\uff0c\u611f\u89ba\u662f\u5224\u65b7\u4e00\u500bdevice\u7684\u65b0\u5f8c\u4f4d\u7f6e\u662f\u5426\u76f8\u540c\u3002\u5f85\u78ba\u8a8d\ndeviceManager.java && Device.java \u90fd\u6709\u4f7f\u7528\u5230\uff0c\u770b\u8d77\u4f86\u8ddf\u4f4d\u7f6e\u6709\u76f8\u95dc\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"isInSameBroadcastDomain"),"\n\u5169\u500bswtich\u7684port\u662f\u5426\u5c6c\u65bc\u540c\u4e00\u500bbroadcast tree\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"getPortsWithLinks"),"\n\u53d6\u5f97\u4e00\u500bswitch\u4e0a\u7684\u6240\u6709ports\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"getBroadcastPorts"),"\n\u53d6\u5f97\u4e00\u500bswitch\u4e0a\u6240\u6709\u5c6c\u65bcbroadcast tree port\u7684port"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"isIncomingBroadcastAllowed"),"\n\u5224\u65b7\u8a72switch\u7684\u67d0\u500bport\u662f\u5426\u80fd\u5920\u63a5\u53d7broadcast\u7684\u5c01\u5305\uff0c\u82e5\u8a72port\u4e0d\u5c6c\u65bcbroadcast tree\u5c31\u6703\u4e1f\u68c4\u8a72\u5c01\u5305\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"getOutgoingSwitchPort"),"\n\u610f\u7fa9\u4e0d\u660e"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"getIncomingSwitchPort"),"\n\u610f\u7fa9\u4e0d\u660e"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"getAllowedOutgoingBroadcastPort"),"\n\u5c1a\u672a\u5be6\u4f5c\uff0c\u610f\u7fa9\u4e0d\u660e"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"getAllowedIncomingBroadcastPort"),"\n\u5c1a\u672a\u5be6\u4f5c\uff0c\u610f\u7fa9\u4e0d\u660e"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"getBroadcastDomainPorts"),"\n\u53d6\u5f97broadcast tree\u7684\u6240\u6709\u6210\u54e1set<dpid,port>"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"getTunnelPorts"),"\n\u53d6\u5f97\u76ee\u524d\u7684TopologyInstance\u4e2d\u662f\u5426\u662ftunnelPorts\n\u610f\u7fa9\u4e0d\u660e"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"getBlockedPorts"),"\n\u5c1a\u672a\u5be6\u505a\u5b8c\u6210\uff0c\u4f30\u8a08\u662f\u53d6\u5f97\u6240\u6709\u88ab\u5c01\u4f4f\u7684ports\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"getPorts"),"\n\u53d6\u5f97\u8a72switch\u4e0a\u6240\u6709\u672a\u88ab\u9694\u96e2\u4e14\u53ef\u4ee5\u4f7f\u7528\u7684port\u3002")),(0,r.kt)("h2",{id:"nodepair"},"NodePair"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"(\u6b64class\u76ee\u524d\u6c92\u6709\u88ab\u4f7f\u7528)")),(0,r.kt)("h2",{id:"orderdnodepair"},"OrderdNodePair"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"(\u6b64class\u76ee\u524d\u6c92\u6709\u88ab\u4f7f\u7528)")),(0,r.kt)("h2",{id:"nodeporttuple"},"NodePortTuple"),(0,r.kt)("p",null,"\u5b9a\u7fa9\u4e86\u4e00\u500bTuple,\u5305\u542b\u4e86\u4e00\u500bswtich dpid\u4ee5\u53ca\u5c0d\u61c9\u7684port"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"    protected long nodeId; // switch DPID\n    protected short portId; // switch port id\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"nodeId")," :switch dpid"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"portId")," :switch port id")),(0,r.kt)("h2",{id:"topologyinstance"},"TopologyInstance"),(0,r.kt)("p",null,"\u7db2\u8def\u62d3\u749e\u771f\u6b63\u7684\u7269\u4ef6\uff0c\u6bcf\u6b21\u540c\u6642\u53ea\u6703\u6709\u4e00\u500bInstance\u5b58\u5728\uff0c\u7576\u7db2\u8def\u62d3\u6a38\u6539\u8b8a\u6642\uff0c\u5c31\u6703\u5275\u9020\u4e00\u500b\u65b0\u7684TopologyInstance\uff0c\u5927\u90e8\u5206\u7684service\u90fd\u662f\u5728\u9019\u908a\u771f\u6b63\u5be6\u4f5c\u3002"),(0,r.kt)("p",null,"TopologyInstance\u4e3b\u8981\u5206\u6210\u5169\u500b\u90e8\u5206"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Cluster\u7684\u76f8\u95dc\u904b\u7b97"),(0,r.kt)("li",{parentName:"ol"},"TopologyService\u7684implement")),(0,r.kt)("p",null,"Cluster\u7684\u904b\u7b97\u5247\u900f\u904ecompute\u4f86\u5b8c\u6210\uff0c\u5176\u4e2d\u53c8\u6709\u56db\u5927\u9805\u76ee\u5206\u5225\u53bb\u8dd1\u3002"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"compute",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"identifyOpenflowDomains"),(0,r.kt)("li",{parentName:"ul"},"addLinksToOpenflowDomains"),(0,r.kt)("li",{parentName:"ul"},"calculateShortestPathTreeInClusters"),(0,r.kt)("li",{parentName:"ul"},"calculateBroadcastNodePortsInClusters")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"identifyOpenflowDomains")),(0,r.kt)("p",null,"\u627e\u51fa\u5728controller\u5e95\u4e0b\u7684\u6240\u6709cluster,\u4e26\u4e14\u628a\u6240\u6709\u7684swtich\u90fd\u5340\u5206\u5230\u5404\u81ea\u7684cluster\u4e2d\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"addLinksToOpenflowDomains")),(0,r.kt)("p",null,"\u628a\u6bcf\u500bcluster\u4e2d\u7684\u6240\u6709link\u90fd\u8a18\u9304\u8d77\u4f86\uff0c\u4ee5 ",(0,r.kt)("strong",{parentName:"p"},"Cluster"),"\u7269\u4ef6\u5b58\u653e\u6240\u6709link\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"calculateShortestPathTreeInClusters")),(0,r.kt)("p",null,"\u8a08\u7b97cluster\u4e2d\u6bcf\u500bswitch\u5230\u5f7c\u6b64\u9593\u7684\u6700\u77ed\u8def\u5f91\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"for cluster in clusters\n    for switch in cluster.getSwitch\n        calculate shortest path for switch in the cluster\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"calculateBroadcastNodePortsInClusters"),"\n\u8a08\u7b97\u6bcf\u500bcluster\u4e2d\u7684broadcast tree\u3002"),(0,r.kt)("p",null,"\u5be6\u969b\u4e0a\u5c31\u53ea\u662f\u53d6\u8a72cluster\u4e2d\u6700\u5c0fid switch\u7684shortest path tree \u7576\u4f5c\u8a72cluster\u7684broadcast domain\u3002"),(0,r.kt)("p",null,"\u7d93\u904e\u9019\u56db\u500b\u6b65\u9a5f\u5f8c\uff0c\u6574\u500b\u62d3\u6a38\u4e2d \u5169\u5169swtich\u9593\u7684\u8def\u5f91\u5c31\u6c7a\u5b9a\u597d\u4e86\uff0c\u540c\u6642broadcast tree\u4e5f\u5efa\u7acb\u5b8c\u6210\uff0c\u6240\u4ee5\u4e5f\u4e0d\u6703\u6709broadcast storm\u7684\u554f\u984c\u3002"),(0,r.kt)("h2",{id:"topologymanager"},"TopologyManager"),(0,r.kt)("p",null,"\u7db2\u8def\u62d3\u6a38\u7684\u7ba1\u7406\u8005\n",(0,r.kt)("strong",{parentName:"p"},"\u5f85\u7e8c")))}d.isMDXComponent=!0}}]);