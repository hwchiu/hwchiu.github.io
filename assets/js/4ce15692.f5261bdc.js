"use strict";(self.webpackChunkhwchiu=self.webpackChunkhwchiu||[]).push([[24171],{3905:(e,n,t)=>{t.d(n,{Zo:()=>d,kt:()=>m});var a=t(67294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var p=a.createContext({}),c=function(e){var n=a.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},d=function(e){var n=c(e.components);return a.createElement(p.Provider,{value:n},e.children)},s="mdxType",k={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,r=e.originalType,p=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),s=c(t),u=i,m=s["".concat(p,".").concat(u)]||s[u]||k[u]||r;return t?a.createElement(m,o(o({ref:n},d),{},{components:t})):a.createElement(m,o({ref:n},d))}));function m(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var r=t.length,o=new Array(r);o[0]=u;var l={};for(var p in n)hasOwnProperty.call(n,p)&&(l[p]=n[p]);l.originalType=e,l[s]="string"==typeof e?e:i,o[1]=l;for(var c=2;c<r;c++)o[c]=t[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},416:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>o,default:()=>k,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var a=t(87462),i=(t(67294),t(3905));const r={title:"Container Runtime - CRI-O",date:new Date("2019-09-22T06:47:35.000Z"),sidebar_position:6,tags:["Kubernetes","CRI","Container","iThome"],description:"\u672c\u6587\u8981\u7279\u5225\u4ecb\u7d39\u57fa\u65bc Kubernetes \u6240\u958b\u767c\u7684 CRI \u89e3\u6c7a\u65b9\u6848 CRI-O, CRI-O \u6240\u6709\u7684\u529f\u80fd\u90fd\u662f\u70ba\u4e86 kubernetes \u800c\u8a2d\u8a08\uff0c\u4e0d\u591a\u4e0d\u5c11\u525b\u525b\u597d\uff0c\u5b8c\u5168\u6700\u4f73\u5316\u65bc kubernetes\u3002\u6b64\u5916\u7531\u65bc\u4e0d\u9700\u8981\u501a\u8cf4\u592a\u591a\u7b2c\u4e09\u65b9\u7684\u5143\u4ef6\uff0c\u8b6c\u5982 docker, containerd \u7b49\uff0c\u4f7f\u7528 CRI-O \u53ef\u4ee5\u6e1b\u5c11\u5143\u4ef6\u4e4b\u9593 IPC \u6e9d\u901a\u7684\u6b21\u6578\u9032\u800c\u63d0\u5347\u6574\u9ad4\u7684\u6548\u7387\u3002 \u672c\u6587\u4e3b\u8981\u6703\u4ecb\u7d39 CRI-O \u7684\u6982\u5ff5\u4e26\u4e14\u900f\u904e\u5be6\u969b\u5b89\u88dd\u7684\u65b9\u5f0f\u4ecb\u7d39\u5982\u4f55\u5e6b kubernetes \u62bd\u63db runtime \u6210 CRI-O"},o="\u524d\u8a00",l={unversionedId:"techPost/2019/iThome_Challenge/k8s-cri-o",id:"techPost/2019/iThome_Challenge/k8s-cri-o",title:"Container Runtime - CRI-O",description:"\u672c\u6587\u8981\u7279\u5225\u4ecb\u7d39\u57fa\u65bc Kubernetes \u6240\u958b\u767c\u7684 CRI \u89e3\u6c7a\u65b9\u6848 CRI-O, CRI-O \u6240\u6709\u7684\u529f\u80fd\u90fd\u662f\u70ba\u4e86 kubernetes \u800c\u8a2d\u8a08\uff0c\u4e0d\u591a\u4e0d\u5c11\u525b\u525b\u597d\uff0c\u5b8c\u5168\u6700\u4f73\u5316\u65bc kubernetes\u3002\u6b64\u5916\u7531\u65bc\u4e0d\u9700\u8981\u501a\u8cf4\u592a\u591a\u7b2c\u4e09\u65b9\u7684\u5143\u4ef6\uff0c\u8b6c\u5982 docker, containerd \u7b49\uff0c\u4f7f\u7528 CRI-O \u53ef\u4ee5\u6e1b\u5c11\u5143\u4ef6\u4e4b\u9593 IPC \u6e9d\u901a\u7684\u6b21\u6578\u9032\u800c\u63d0\u5347\u6574\u9ad4\u7684\u6548\u7387\u3002 \u672c\u6587\u4e3b\u8981\u6703\u4ecb\u7d39 CRI-O \u7684\u6982\u5ff5\u4e26\u4e14\u900f\u904e\u5be6\u969b\u5b89\u88dd\u7684\u65b9\u5f0f\u4ecb\u7d39\u5982\u4f55\u5e6b kubernetes \u62bd\u63db runtime \u6210 CRI-O",source:"@site/docs/techPost/2019/iThome_Challenge/k8s-cri-o.md",sourceDirName:"techPost/2019/iThome_Challenge",slug:"/techPost/2019/iThome_Challenge/k8s-cri-o",permalink:"/docs/techPost/2019/iThome_Challenge/k8s-cri-o",draft:!1,tags:[{label:"Kubernetes",permalink:"/docs/tags/kubernetes"},{label:"CRI",permalink:"/docs/tags/cri"},{label:"Container",permalink:"/docs/tags/container"},{label:"iThome",permalink:"/docs/tags/i-thome"}],version:"current",sidebarPosition:6,frontMatter:{title:"Container Runtime - CRI-O",date:"2019-09-22T06:47:35.000Z",sidebar_position:6,tags:["Kubernetes","CRI","Container","iThome"],description:"\u672c\u6587\u8981\u7279\u5225\u4ecb\u7d39\u57fa\u65bc Kubernetes \u6240\u958b\u767c\u7684 CRI \u89e3\u6c7a\u65b9\u6848 CRI-O, CRI-O \u6240\u6709\u7684\u529f\u80fd\u90fd\u662f\u70ba\u4e86 kubernetes \u800c\u8a2d\u8a08\uff0c\u4e0d\u591a\u4e0d\u5c11\u525b\u525b\u597d\uff0c\u5b8c\u5168\u6700\u4f73\u5316\u65bc kubernetes\u3002\u6b64\u5916\u7531\u65bc\u4e0d\u9700\u8981\u501a\u8cf4\u592a\u591a\u7b2c\u4e09\u65b9\u7684\u5143\u4ef6\uff0c\u8b6c\u5982 docker, containerd \u7b49\uff0c\u4f7f\u7528 CRI-O \u53ef\u4ee5\u6e1b\u5c11\u5143\u4ef6\u4e4b\u9593 IPC \u6e9d\u901a\u7684\u6b21\u6578\u9032\u800c\u63d0\u5347\u6574\u9ad4\u7684\u6548\u7387\u3002 \u672c\u6587\u4e3b\u8981\u6703\u4ecb\u7d39 CRI-O \u7684\u6982\u5ff5\u4e26\u4e14\u900f\u904e\u5be6\u969b\u5b89\u88dd\u7684\u65b9\u5f0f\u4ecb\u7d39\u5982\u4f55\u5e6b kubernetes \u62bd\u63db runtime \u6210 CRI-O"},sidebar:"techPost",previous:{title:"Kubernetes & CRI (II) - containerd",permalink:"/docs/techPost/2019/iThome_Challenge/k8s-cri-ii"},next:{title:"Container Runtime - Security Container",permalink:"/docs/techPost/2019/iThome_Challenge/container-runtime-security-container"}},p={},c=[{value:"\u5b89\u88dd CRI-O",id:"\u5b89\u88dd-cri-o",level:2},{value:"\u8a2d\u5b9a\u7cfb\u7d71\u76f8\u95dc\u8cc7\u8a0a",id:"\u8a2d\u5b9a\u7cfb\u7d71\u76f8\u95dc\u8cc7\u8a0a",level:3},{value:"\u5b89\u88dd\u5957\u4ef6",id:"\u5b89\u88dd\u5957\u4ef6",level:3},{value:"\u5b89\u88dd kubernetes",id:"\u5b89\u88dd-kubernetes",level:2},{value:"\u5b89\u88dd\u5957\u4ef6",id:"\u5b89\u88dd\u5957\u4ef6-1",level:3},{value:"\u5efa\u7acb\u53e2\u96c6",id:"\u5efa\u7acb\u53e2\u96c6",level:3},{value:"\u6e2c\u8a66",id:"\u6e2c\u8a66",level:2}],d={toc:c},s="wrapper";function k(e){let{components:n,...t}=e;return(0,i.kt)(s,(0,a.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"\u524d\u8a00"},"\u524d\u8a00"),(0,i.kt)("p",null,"\u524d\u5169\u7bc7\u6587\u7ae0\u6211\u5011\u63a2\u8a0e\u4e86\u95dc\u65bc ",(0,i.kt)("inlineCode",{parentName:"p"},"kubernetes")," \u4e2d ",(0,i.kt)("inlineCode",{parentName:"p"},"Container Runtime")," \u7684\u6982\u5ff5\uff0c\u4e26\u4e14\u67b6\u8a2d\u4e00\u500b ",(0,i.kt)("inlineCode",{parentName:"p"},"kubernetes cluster")," \u4f86\u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"containerd")," \u800c\u975e\u5e38\u898b\u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"docker")," \u4f5c\u70ba\u5176\u80cc\u5f8c ",(0,i.kt)("inlineCode",{parentName:"p"},"Container Runtime")," \u7684\u89e3\u6c7a\u65b9\u6848\u3002"),(0,i.kt)("p",null,"\u7136\u800c\u5982\u679c\u4f60\u5617\u8a66\u641c\u5c0b\u904e\u95dc\u65bc ",(0,i.kt)("inlineCode",{parentName:"p"},"CRI")," \u7684\u6587\u7ae0\xb7\u9664\u4e86 ",(0,i.kt)("inlineCode",{parentName:"p"},"kubernetes"),",",(0,i.kt)("inlineCode",{parentName:"p"},"OCI")," \u7b49\u76f8\u95dc\u6982\u5ff5\u95dc\u9375\u5b57\u6703\u51fa\u73fe\u5916\uff0c\u4f60\u53ef\u80fd\u4e5f\u6709\u770b\u904e\u4e00\u500b\u540d\u70ba ",(0,i.kt)("inlineCode",{parentName:"p"},"cri-o")," \u7684\u95dc\u9375\u5b57\u3002"),(0,i.kt)("p",null,"\u4eca\u5929\u5c31\u8981\u4f86\u8ddf\u5927\u5bb6\u804a\u804a ",(0,i.kt)("inlineCode",{parentName:"p"},"CRI-O")," \u9019\u500b\u5b8c\u5168\u91dd\u5c0d ",(0,i.kt)("inlineCode",{parentName:"p"},"kubernetes")," \u74b0\u5883\u958b\u767c\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"Container Runtime")," \u89e3\u6c7a\u65b9\u6848\u3002"),(0,i.kt)("h1",{id:"\u4ecb\u7d39"},"\u4ecb\u7d39"),(0,i.kt)("p",null,"\u6211\u60f3\u76f4\u63a5\u900f\u904e\u4e00\u5f35\u5716\u4f86\u89e3\u91cb ",(0,i.kt)("inlineCode",{parentName:"p"},"CRI-O")," \u7684\u89d2\u8272\u8207\u5730\u4f4d\u662f\u6700\u5feb\u4e14\u7c21\u55ae\u7684\uff0c\u900f\u904e\u8207 ",(0,i.kt)("inlineCode",{parentName:"p"},"docker"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"containerd")," \u7b49\u76f8\u95dc\u7684\u6bd4\u8f03\uff0c"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://i.imgur.com/nUAYZiq.png",alt:null})),(0,i.kt)("p",null,"\u8a72\u5716\u7247\u5f9e\u7e31\u8ef8\u4f86\u770b\uff0c\u6709\u5169\u689d\u4e3b\u8981\u7684\u9ed1\u7dda\uff0c\u4ee3\u8868\u7684\u662f\u4e0d\u540c\u7684\u6a19\u6e96\u67b6\u69cb\uff0c\u5206\u5225\u662f ",(0,i.kt)("inlineCode",{parentName:"p"},"CRI")," \u4ee5\u53ca ",(0,i.kt)("inlineCode",{parentName:"p"},"OCI"),"\u3002\n",(0,i.kt)("inlineCode",{parentName:"p"},"kubelet")," \u672c\u8eab\u900f\u904e ",(0,i.kt)("inlineCode",{parentName:"p"},"CRI")," \u7684\u4ecb\u9762\u8207\u5404\u5f0f\u5404\u6a23\u76f8\u5bb9\u65bc ",(0,i.kt)("inlineCode",{parentName:"p"},"CRI")," \u7684\u89e3\u6c7a\u65b9\u6848\u6e9d\u901a\uff0c\u800c\u9019\u4e9b\u89e3\u6c7a\u65b9\u6848\u6700\u5f8c\u90fd\u6703\u900f\u904e\u7b26\u5408 ",(0,i.kt)("inlineCode",{parentName:"p"},"OCI")," \u6a19\u6e96\u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"OCI runtime")," \u53bb\u5275\u9020\u51fa\u771f\u6b63\u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"Container")," \u4f9b\u4f7f\u7528\u8005\u4f7f\u7528\u3002"),(0,i.kt)("p",null,"\u5f9e\u4e0a\u800c\u4e0b\u5206\u5225\u662f\u4e4b\u524d\u4ecb\u7d39\u904e ",(0,i.kt)("inlineCode",{parentName:"p"},"kubernetes")," \u5167\u8207 ",(0,i.kt)("inlineCode",{parentName:"p"},"docker")," \u4ee5\u53ca ",(0,i.kt)("inlineCode",{parentName:"p"},"contained")," \u7684\u67b6\u69cb\u6f14\u9032\u5716\u3002"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"kubelet")," \u900f\u904e ",(0,i.kt)("inlineCode",{parentName:"li"},"Dockershim")," \u8207 ",(0,i.kt)("inlineCode",{parentName:"li"},"docker engine")," \u9023\u63a5\uff0c\u6700\u5f8c\u4e00\u8def\u4e32\u63a5\u5230 ",(0,i.kt)("inlineCode",{parentName:"li"},"containerd")," \u4f86\u5275\u5efa ",(0,i.kt)("inlineCode",{parentName:"li"},"container"),"\u3002"),(0,i.kt)("li",{parentName:"ol"},"\u7e5e\u904e ",(0,i.kt)("inlineCode",{parentName:"li"},"Docker")," \u76f4\u63a5\u8207\u5f8c\u7aef\u7684 ",(0,i.kt)("inlineCode",{parentName:"li"},"Containerd")," \u6e9d\u901a\uff0c\u70ba\u4e86\u6eff\u8db3\u9019\u500b\u9700\u6c42\u4e5f\u9700\u8981\u4e00\u500b\u984d\u5916\u7684\u61c9\u7528\u7a0b\u5f0f ",(0,i.kt)("inlineCode",{parentName:"li"},"CRI-Containerd")," \u4f86\u4f5c\u70ba\u4e2d\u9593\u6e9d\u901a\u7684\u6a4b\u6a11"),(0,i.kt)("li",{parentName:"ol"},"\u96a8\u8005 ",(0,i.kt)("inlineCode",{parentName:"li"},"containerd")," 1.1 \u7248\u672c\u7684\u767c\u884c\uff0c ",(0,i.kt)("inlineCode",{parentName:"li"},"CRI-Containerd")," \u672c\u8eab\u7684\u529f\u80fd\u5df2\u7d93\u53ef\u4ee5\u900f\u904e ",(0,i.kt)("inlineCode",{parentName:"li"},"plugin")," \u7684\u65b9\u5f0f\u5be6\u73fe\u65bc ",(0,i.kt)("inlineCode",{parentName:"li"},"containerd")," \u4e2d\uff0c\u53ef\u4ee5\u518d\u5c11\u6389\u4e00\u5c64\u6e9d\u901a\u7684\u8017\u640d\uff0c\u9019\u4e5f\u662f\u4e0a\u4e00\u7bc7\u6240\u4ecb\u7d39\u7684\u5b89\u88dd\u74b0\u5883\u3002"),(0,i.kt)("li",{parentName:"ol"},"\u5247\u662f\u672c\u7bc7\u6240\u8981\u4ecb\u7d39\u7684\u91cd\u9ede ",(0,i.kt)("inlineCode",{parentName:"li"},"cri-o"),", \u4e00\u500b\u5b8c\u5168\u91dd\u5c0d ",(0,i.kt)("inlineCode",{parentName:"li"},"kubernetes")," \u9700\u6c42\u7684\u89e3\u6c7a\u65b9\u6848\uff0c\u8b93\u6574\u9ad4\u7684\u6e9d\u901a\u8b8a\u5f97\u66f4\u5feb\u901f\u8207\u7c21\u55ae\u3002")),(0,i.kt)("p",null,"\u770b\u5b8c\u4e0a\u8ff0\u6bd4\u8f03\u5f8c\u6703\u5c0d ",(0,i.kt)("inlineCode",{parentName:"p"},"cri-o")," \u6709\u500b\u521d\u6b65\u7684\u7406\u89e3\uff0c\u77e5\u9053\u5176\u88ab\u8a2d\u8a08\u51fa\u4f86\u7684\u76ee\u7684\u5c31\u662f\u8981\u63d0\u4f9b\u66f4\u597d\u5730\u6574\u5408\uff0c\u6e1b\u5c11\u591a\u9918\u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"IPC")," \u6e9d\u901a\uff0c\u4e26\u4e14\u4f5c\u70ba\u4e00\u500b\u91dd\u5c0d ",(0,i.kt)("inlineCode",{parentName:"p"},"kubernetes")," \u8a2d\u8a08\u7684\u89e3\u6c7a\u65b9\u6848\u3002"),(0,i.kt)("h1",{id:"\u7279\u8272"},"\u7279\u8272"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"CRI-O")," \u7684\u6a19\u984c\u958b\u5b97\u660e\u7fa9\u76f4\u63a5\u95e1\u660e"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"CRI-O - OCI-based implementation of Kubernetes Container Runtime Interface")),(0,i.kt)("p",null,"\u4f5c\u70ba\u4e00\u500b\u6eff\u8db3 ",(0,i.kt)("inlineCode",{parentName:"p"},"CRI")," \u6a19\u6e96\u4e14\u80fd\u5920\u7522\u751f\u51fa\u76f8\u5bb9\u65bc ",(0,i.kt)("inlineCode",{parentName:"p"},"OCI"),"  \u6a19\u6e96 ",(0,i.kt)("inlineCode",{parentName:"p"},"container")," \u7684\u89e3\u6c7a\u65b9\u6848\uff0c\u5f9e\u6574\u500b\u8a2d\u8a08\u5230\u7279\u8272\u5168\u90e8\u90fd\u662f\u91dd\u5c0d ",(0,i.kt)("inlineCode",{parentName:"p"},"kubernetes")," \u4f86\u6253\u9020"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"\u672c\u8eab\u7684\u8edf\u9ad4\u7248\u672c\u8207 ",(0,i.kt)("inlineCode",{parentName:"li"},"kubernetes")," \u4e00\u81f4\uff0c\u540c\u6642\u6240\u6709\u7684\u6e2c\u8a66\u90fd\u662f\u57fa\u65bc kubernetes \u7684\u4f7f\u7528\u53bb\u6e2c\u8a66\uff0c\u78ba\u4fdd\u7a69\u5b9a\u6027\u3002"),(0,i.kt)("li",{parentName:"ol"},"\u76ee\u6a19\u662f\u652f\u63f4\u6240\u6709\u76f8\u5bb9\u65bc ",(0,i.kt)("inlineCode",{parentName:"li"},"OCI Runtime")," \u7684\u89e3\u6c7a\u65b9\u6848\uff0c\u8b6c\u5982 ",(0,i.kt)("inlineCode",{parentName:"li"},"Runc, Kata Containers")),(0,i.kt)("li",{parentName:"ol"},"\u652f\u63f4\u4e0d\u540c\u7684 ",(0,i.kt)("inlineCode",{parentName:"li"},"container image"),"\uff0c\u8b6c\u5982 ",(0,i.kt)("inlineCode",{parentName:"li"},"docker")," \u81ea\u5df1\u672c\u8eab\u5c31\u6709 ",(0,i.kt)("a",{parentName:"li",href:"https://docs.docker.com/registry/spec/manifest-v2-1/"},"schema 2/version 1")," \u8207 ",(0,i.kt)("a",{parentName:"li",href:"https://docs.docker.com/registry/spec/manifest-v2-2/"},"schema 2/version 2")),(0,i.kt)("li",{parentName:"ol"},"\u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"li"},"Container Network Interface CNI")," \u4f86\u7ba1\u7406 ",(0,i.kt)("inlineCode",{parentName:"li"},"Container")," \u7db2\u8def")),(0,i.kt)("h1",{id:"\u904b\u4f5c\u6d41\u7a0b"},"\u904b\u4f5c\u6d41\u7a0b"),(0,i.kt)("p",null,"\u6574\u9ad4\u7684\u904b\u4f5c\u6d41\u7a0b\u53ef\u4ee5\u7531\u4e0b\u9762\u9019\u5f35\u5716\u7247\u4f86\u8aaa\u660e"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://i.imgur.com/AeciXUs.png",alt:null}),"\n\u672c\u5716\u64f7\u53d6\u81ea",(0,i.kt)("a",{parentName:"p",href:"https://cri-o.io/#container-images"},"cri-o")),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"kubelet \u6c7a\u5b9a\u8981\u5275\u5efa\u4e00\u500b ",(0,i.kt)("inlineCode",{parentName:"li"},"Pod"),"\uff0c\u65bc\u662f\u900f\u904e ",(0,i.kt)("inlineCode",{parentName:"li"},"gRPC")," \u7684\u65b9\u5f0f\u767c\u9001\u57fa\u65bc ",(0,i.kt)("inlineCode",{parentName:"li"},"CRI")," \u6a19\u6e96\u7684\u8acb\u6c42\u5230 ",(0,i.kt)("inlineCode",{parentName:"li"},"cri-o")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"cri-o")," \u57fa\u65bc ",(0,i.kt)("inlineCode",{parentName:"li"},"containerts/image")," \u7684\u51fd\u5f0f\u5eab\u53bb\u8a72 ",(0,i.kt)("inlineCode",{parentName:"li"},"Pod")," \u88e1\u9762\u63cf\u8ff0\u7684 ",(0,i.kt)("inlineCode",{parentName:"li"},"Container Image Registry")," \u6293\u53d6\u8a72 ",(0,i.kt)("inlineCode",{parentName:"li"},"container image")),(0,i.kt)("li",{parentName:"ol"},"\u4e0b\u8f09\u4e0b\u4f86\u7684 ",(0,i.kt)("inlineCode",{parentName:"li"},"container image")," \u6703\u88ab\u89e3\u958b\uff0c\u63a5\u4e0b\u4f86\u6703\u900f\u904e ",(0,i.kt)("inlineCode",{parentName:"li"},"containers/storage")," \u76f8\u95dc\u7684\u51fd\u5f0f\u5eab\u53bb\u8655\u7406 ",(0,i.kt)("inlineCode",{parentName:"li"},"container")," \u672c\u8eab\u7684 ",(0,i.kt)("inlineCode",{parentName:"li"},"root filesystem"),"\u3002"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"CRI-O")," \u63a5\u8005\u6703\u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"li"},"OCI")," \u63d0\u4f9b\u7684\u5de5\u5177\u53bb\u7522\u751f\u4e00\u500b\u7528\u4f86\u63cf\u8ff0\u8a72 ",(0,i.kt)("inlineCode",{parentName:"li"},"container")," \u8981\u5982\u4f55\u904b\u884c\u7684 ",(0,i.kt)("inlineCode",{parentName:"li"},"json")," \u6a94\u6848\u3002"),(0,i.kt)("li",{parentName:"ol"},"\u63a5\u8005\u6703\u6839\u64da\u8a2d\u5b9a\u53bb\u904b\u884c\u76f8\u5bb9\u65bc ",(0,i.kt)("inlineCode",{parentName:"li"},"OCI Runtime")," \u7684\u89e3\u6c7a\u65b9\u6848\u4f86\u57f7\u884c\u8a72 ",(0,i.kt)("inlineCode",{parentName:"li"},"container"),"."),(0,i.kt)("li",{parentName:"ol"},"\u6bcf\u4e00\u500b ",(0,i.kt)("inlineCode",{parentName:"li"},"container")," \u90fd\u6703\u88ab\u7368\u7acb\u7684 process ",(0,i.kt)("inlineCode",{parentName:"li"},"conmon (container monitor)")," \u7d66\u76e3\u63a7\uff0c\u8655\u7406\u8005\u95dc\u65bc pseudotty, log, \u4ee5\u53ca exit code\u3002"),(0,i.kt)("li",{parentName:"ol"},"\u63a5\u4e0b\u4f86\u6703\u900f\u904e ",(0,i.kt)("inlineCode",{parentName:"li"},"CNI")," \u7684\u4ecb\u9762\u4f86\u5e6b\u8a72 ",(0,i.kt)("inlineCode",{parentName:"li"},"Pod")," \u5efa\u7acb\u7db2\u8def",(0,i.kt)("blockquote",{parentName:"li"},(0,i.kt)("p",{parentName:"blockquote"},"\u5be6\u969b\u4e0a CNI \u64cd\u4f5c\u7684\u5c0d\u8c61\u662f\u6240\u8b02\u7684 infra container (pause container), \u800c\u975e\u4efb\u4f55\u4f7f\u7528\u8005\u8acb\u6c42\u7684 container. \u9019\u90e8\u5206\u6703\u5230 CNI \u7684\u7ae0\u7bc0\u5728\u4ed4\u7d30\u4ecb\u7d39")))),(0,i.kt)("p",null,"\u6574\u500b ",(0,i.kt)("inlineCode",{parentName:"p"},"OCI")," \u7684\u6982\u5ff5\u76f8\u5c0d\u65bc ",(0,i.kt)("inlineCode",{parentName:"p"},"docker, containerd")," \u4f86\u5f97\u7c21\u55ae\uff0c\u56e0\u70ba\u5176\u76ee\u6a19\u5c31\u662f\u652f\u63f4 ",(0,i.kt)("inlineCode",{parentName:"p"},"kubernetes"),"\uff0c\u4e0d\u76f8\u5e72\u7684\u529f\u80fd\u4e0d\u5be6\u4f5c\uff0c\u5c08\u5fc3\u63d0\u4f9b\u66f4\u597d\u7684\u76f8\u5bb9\u6027\u8207\u7a69\u5b9a\u6027\u3002"),(0,i.kt)("p",null,"\u6b64\u5916\u8fd1\u4f86\u53ef\u4ee5\u9678\u9678\u7e8c\u7e8c\u770b\u5230\u76f8\u95dc\u65b0\u805e\u5728\u8b1b\u8ff0 ",(0,i.kt)("inlineCode",{parentName:"p"},"CRI-O")," \u7684\u5c0e\u5165\uff0c\u8b6c\u5982 OpenSuse/RedHat \u90fd\u5e6b\u81ea\u5bb6\u7684\u7522\u54c1\u5c0e\u5165 ",(0,i.kt)("inlineCode",{parentName:"p"},"cri-o")," \u4e26\u4e14\u4f5c\u70ba\u9810\u8a2d\u7684\u904b\u884c\u74b0\u5883\uff0c\u5c31\u662f\u5e0c\u671b\u80fd\u5920\u8b93 ",(0,i.kt)("inlineCode",{parentName:"p"},"kubernetes")," \u7684\u6548\u80fd\u66f4\u597d\u66f4\u7a69\u5b9a\u3002\n",(0,i.kt)("a",{parentName:"p",href:"https://kubic.opensuse.org/blog/2018-09-17-crio-default/"},"kubic.opensuse: CRI-O is now our default container runtime interface"),"\n",(0,i.kt)("a",{parentName:"p",href:"https://www.redhat.com/en/blog/red-hat-openshift-container-platform-4-now-defaults-cri-o-underlying-container-engine"},"Red Hat OpenShift Container Platform 4 now defaults to CRI-O as underlying container engine")),(0,i.kt)("p",null,"\u770b\u5b8c\u4e86 ",(0,i.kt)("inlineCode",{parentName:"p"},"cri-o")," \u7684\u6982\u5ff5\u4ecb\u7d39\u5f8c\uff0c\u63a5\u4e0b\u4f86\u6211\u5011\u4eff\u9020\u4e0a\u7bc7 ",(0,i.kt)("inlineCode",{parentName:"p"},"containerd")," \u7684\u6982\u5ff5\u4e00\u6a23\u6253\u9020\u4e00\u6a23\u7684\u74b0\u5883\u8a66\u8a66\u770b\uff0c\u4e26\u4e14\u89c0\u5bdf\u76f8\u95dc\u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"process")," \u904b\u4f5c\u3002"),(0,i.kt)("h1",{id:"\u5b89\u88dd\u6e2c\u8a66"},"\u5b89\u88dd\u6e2c\u8a66"),(0,i.kt)("h2",{id:"\u5b89\u88dd-cri-o"},"\u5b89\u88dd CRI-O"),(0,i.kt)("p",null,"\u57fa\u672c\u4e0a\u5b89\u88dd\u7684\u904e\u7a0b\u8ddf ",(0,i.kt)("inlineCode",{parentName:"p"},"containerd")," \u5927\u540c\u5c0f\u7570\uff0c\u53ea\u662f\u5b89\u88dd\u7684\u5957\u4ef6\u4e0d\u540c\uff0c\u540c\u6642\u6700\u5f8c\u8a2d\u5b9a ",(0,i.kt)("inlineCode",{parentName:"p"},"kubelet")," \u7684\u65b9\u5f0f\u4e0d\u540c\u3002"),(0,i.kt)("h3",{id:"\u8a2d\u5b9a\u7cfb\u7d71\u76f8\u95dc\u8cc7\u8a0a"},"\u8a2d\u5b9a\u7cfb\u7d71\u76f8\u95dc\u8cc7\u8a0a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash="},"modprobe overlay\nmodprobe br_netfilter\necho 1 > /proc/sys/net/bridge/bridge-nf-call-iptables\necho 1 > /proc/sys/net/ipv4/ip_forward\necho 1 > /proc/sys/net/bridge/bridge-nf-call-ip6tables\n")),(0,i.kt)("h3",{id:"\u5b89\u88dd\u5957\u4ef6"},"\u5b89\u88dd\u5957\u4ef6"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash="},"apt-get update\napt-get install software-properties-common\n\nadd-apt-repository ppa:projectatomic/ppa\napt-get update\napt-get install cri-o-1.15\nsystemctl start cri-o\n")),(0,i.kt)("p",null,"\u5982\u679c\u57f7\u884c\u932f\u8aa4\u767c\u73fe\u56e0\u70ba\u627e\u4e0d\u5230\u76f8\u95dc\u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"/usr/local/libexec/crio/crio-wipe/crio-wipe.bash")," \u9019\u500b\u6a94\u6848\u7684\u8a71\uff0c\u53ef\u4ee5\u624b\u52d5\u5e6b\u5fd9\u5efa\u7acb\u500b ",(0,i.kt)("inlineCode",{parentName:"p"},"soft link")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash="},"sudo ln -s /usr/libexec /usr/local/libexec\n")),(0,i.kt)("p",null,"\u9019\u500b\u554f\u984c\u5728 ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/cri-o/cri-o/issues/2779"},"github")," \u4e0a\u9762\u5df2\u7d93\u88ab\u56de\u5831\uff0c\u4f46\u662f\u4e0d\u78ba\u5b9a\u662f\u4ec0\u9ebc\u6642\u5019\u6703\u4fee\u5fa9\u5230\u6253\u5305\u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"deb")," \u4e4b\u4e2d\uff0c\u81f3\u5c11\u6211",(0,i.kt)("inlineCode",{parentName:"p"},"2019/09/18"),"\u6e2c\u8a66\u7684\u6642\u5019\u9084\u662f\u58de\u6389\u7684\u3002"),(0,i.kt)("p",null,"\u6700\u5f8c\u900f\u904e\u6307\u4ee4\u78ba\u8a8d cri-o \u6709\u6b63\u78ba\u904b\u884c"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash="},"vagrant@k8s-dev:~$ sudo systemctl status cri-o\n\u25cf crio.service - Container Runtime Interface for OCI (CRI-O)\n   Loaded: loaded (/usr/lib/systemd/system/crio.service; disabled; vendor preset: enabled)\n   Active: active (running) since Thu 2019-09-19 03:31:32 UTC; 20min ago\n     Docs: https://github.com/cri-o/cri-o\n Main PID: 28333 (crio)\n    Tasks: 16\n   Memory: 870.2M\n      CPU: 28.468s\n   CGroup: /system.slice/crio.service\n           \u2514\u250028333 /usr/bin/crio\n\nSep 19 03:31:32 k8s-dev systemd[1]: Starting Open Container Initiative Daemon...\nSep 19 03:31:32 k8s-dev systemd[1]: Started Open Container Initiative Daemon.\nSep 19 03:31:57 k8s-dev systemd[1]: Started Open Container Initiative Daemon.\nSep 19 03:32:10 k8s-dev systemd[1]: Started Container Runtime Interface for OCI (CRI-O).\n")),(0,i.kt)("h2",{id:"\u5b89\u88dd-kubernetes"},"\u5b89\u88dd kubernetes"),(0,i.kt)("h3",{id:"\u5b89\u88dd\u5957\u4ef6-1"},"\u5b89\u88dd\u5957\u4ef6"),(0,i.kt)("p",null,"\u5b89\u88dd ",(0,i.kt)("inlineCode",{parentName:"p"},"kubeadm/kubelet/kubectl")," \u76f8\u95dc\u6a94\u6848\u5de5\u5177\uff0c\u4e0d\u518d\u64b0\u8ff0\u5176\u904e\u7a0b"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash="},"apt-get update && apt-get install -y apt-transport-https curl\ncurl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -\ncat <<EOF >/etc/apt/sources.list.d/kubernetes.list\ndeb https://apt.kubernetes.io/ kubernetes-xenial main\nEOF\napt-get update\napt-get install -y kubelet kubeadm kubectl\n")),(0,i.kt)("p",null,"\u63a5\u4e0b\u4f86\u8981\u4f7f\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"kubeadm")," \u9032\u884c\u5b89\u88dd\xb7\u5b89\u88dd\u6b65\u9a5f\u8207\u4e4b\u524d ",(0,i.kt)("inlineCode",{parentName:"p"},"containerd")," \u5927\u540c\u5c0f\u7570"),(0,i.kt)("p",null,"\u7531\u65bc\u90e8\u5206\u9700\u8981\u7684\u8a2d\u5b9a\u53ea\u80fd\u900f\u904e ",(0,i.kt)("inlineCode",{parentName:"p"},"config")," \u7684\u65b9\u5f0f\u4f86\u4fee\u6539\uff0c\u4e26\u4e0d\u80fd\u50cf\u4e4b\u524d ",(0,i.kt)("inlineCode",{parentName:"p"},"containerd")," \u7684\u65b9\u5f0f\u53bb\u6539 systemd \u88e1\u9762\u7684\u74b0\u5883\u8b8a\u6578\uff0c\u56e0\u6b64\u8acb\u589e\u52a0 ",(0,i.kt)("inlineCode",{parentName:"p"},"/etc/default/kubelet")," \u9019\u500b\u6a94\u6848\uff0c\u5167\u5bb9\u5982\u4e0b"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash="},"vagrant@k8s-dev:~$ cat /etc/default/kubelet\nKUBELET_EXTRA_ARGS=--feature-gates=\"AllAlpha=false,RunAsGroup=true\" --container-runtime=remote --cgroup-driver=systemd --container-runtime-endpoint='unix:///var/run/crio/crio.sock' --runtime-request-timeout=5m\n")),(0,i.kt)("h3",{id:"\u5efa\u7acb\u53e2\u96c6"},"\u5efa\u7acb\u53e2\u96c6"),(0,i.kt)("p",null,"\u900f\u904e\u4e0b\u5217\u6307\u4ee4\u4f9d\u5e8f\u5efa\u7acb\u53e2\u96c6"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash="},"sudo swapoff -a && sudo sysctl -w vm.swappiness=0\nsudo kubeadm init --pod-network-cidr=10.244.0.0/16\nmkdir -p $HOME/.kube\nsudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config\nsudo chown $(id -u):$(id -g) $HOME/.kube/config\nkubectl apply -f https://raw.githubusercontent.com/coreos/flannel/a70459be0084506e4ec919aa1c114638878db11b/Documentation/kube-flannel.yml\nkubectl taint nodes --all node-role.kubernetes.io/master-\n")),(0,i.kt)("p",null,"\u5982\u679c ",(0,i.kt)("inlineCode",{parentName:"p"},"cri-o")," \u6c92\u6709\u6b63\u78ba\u5b89\u88dd\u7684\u8a71\uff0c\u6703\u56e0\u70ba\u627e\u4e0d\u5230\u76f8\u95dc\u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"unix socket"),"\uff0c\u4f7f\u5f97 ",(0,i.kt)("inlineCode",{parentName:"p"},"kubelet")," \u6703\u5617\u8a66\u53bb\u627e ",(0,i.kt)("inlineCode",{parentName:"p"},"docker")," \u4f86\u4f7f\u7528\uff0c\u4f46\u662f\u56e0\u70ba\u6211\u7cfb\u7d71\u4e0a\u9762\u6c92\u6709 ",(0,i.kt)("inlineCode",{parentName:"p"},"docker"),"\uff0c\u56e0\u6b64\u6703\u4f7f\u5f97\u5b89\u88dd\u5931\u6557\uff0c\u8a0a\u606f\u5982\u4e0b\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash="},'vagrant@k8s-dev:~$ sudo kubeadm init --pod-network-cidr=10.244.0.0/16\n\n[init] Using Kubernetes version: v1.16.0\n[preflight] Running pre-flight checks\n[preflight] WARNING: Couldn\'t create the interface used for talking to the container runtime: docker is required for container runtime: exec: "docker":\n executable file not found in $PATH\n')),(0,i.kt)("h2",{id:"\u6e2c\u8a66"},"\u6e2c\u8a66"),(0,i.kt)("p",null,"\u56e0\u70ba ",(0,i.kt)("inlineCode",{parentName:"p"},"cri-o")," \u5c31\u662f\u5b8c\u5168\u91dd\u5c0d ",(0,i.kt)("inlineCode",{parentName:"p"},"cri")," + ",(0,i.kt)("inlineCode",{parentName:"p"},"kubernetes")," \u6253\u9020\u7684\uff0c\u6240\u4ee5\u524d\u8ff0\u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"crictl")," \u76f8\u95dc\u7684\u5de5\u5177\u90fd\u9084\u662f\u53ef\u4ee5\u7e7c\u7e8c\u4f7f\u7528"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash="},"vagrant@k8s-dev:~$ sudo crictl images\nIMAGE                                TAG                 IMAGE ID            SIZE\nk8s.gcr.io/coredns                   1.6.2               bf261d1579144       44.2MB\nk8s.gcr.io/etcd                      3.3.15-0            b2756210eeabf       248MB\nk8s.gcr.io/kube-apiserver            v1.16.0             b305571ca60a5       219MB\nk8s.gcr.io/kube-controller-manager   v1.16.0             06a629a7e51cd       165MB\nk8s.gcr.io/kube-proxy                v1.16.0             c21b0c7400f98       87.9MB\nk8s.gcr.io/kube-scheduler            v1.16.0             301ddc62b80b1       88.8MB\nk8s.gcr.io/pause                     3.1                 da86e6ba6ca19       747kB\nquay.io/coreos/flannel               v0.11.0-amd64       ff281650a721f       55.4MB\n\nvagrant@k8s-dev:~$ sudo crictl ps\nCONTAINER ID        IMAGE                                                              CREATED             STATE               NAME                      ATTEMPT             POD ID\n72d22f82eca39       ff281650a721f46bbe2169292c91031c66411554739c88c861ba78475c1df894   29 minutes ago      Running             kube-flannel              0                   8c7db4df0ae25\nbf7f4886d1a59       c21b0c7400f988db4777858edd13b6d3930d62d7ccf026d2415485a52037f384   38 minutes ago      Running             kube-proxy                0                   ead4354c566f9\nfa3d24cb95896       b2756210eeabf84f3221da9959e9483f3919dc2aaab4cd45e7cd072fcbde27ed   39 minutes ago      Running             etcd                      0                   b219a7e8b9d52\n983924dffa404       301ddc62b80b16315d3c2653cf3888370394277afb3187614cfa20edc352ca0a   39 minutes ago      Running             kube-scheduler            0                   6d1c2c8035d10\na04f0f3b253a6       06a629a7e51cdcc81a5ed6a3e6650348312f20c954ac52ee489a023628ec9c7d   39 minutes ago      Running             kube-controller-manager   0                   5fa8e74c08bac\na48e40de9a05b       b305571ca60a5a7818bda47da122683d75e8a1907475681ee8b1efbd06bff12e   39 minutes ago      Running             kube-apiserver            0                   014ba57340bf8\n\n")),(0,i.kt)("p",null,"\u9019\u6642\u5019\u900f\u904e ",(0,i.kt)("inlineCode",{parentName:"p"},"ps")," \u7b49\u6307\u4ee4\u89c0\u5bdf\u4e00\u4e0b\u7cfb\u7d71\u4e2d\u904b\u884c\u7684\u6307\u4ee4"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"vagrant@k8s-dev:~$ sudo ps -x -awo command | grep cri\n/usr/bin/crio\n/usr/bin/kubelet --bootstrap-kubeconfig=/etc/kubernetes/bootstrap-kubelet.conf --kubeconfig=/etc/kubernetes/kubelet.conf --config=/var/lib/kubelet/config.yaml --container-runtime=remote --container-runtime-endpoint=/var/run/crio/crio.sock --feature-gates=AllAlpha=false,RunAsGroup=true --container-runtime=remote --cgroup-driver=systemd --container-runtime-endpoint=unix:///var/run/crio/crio.sock --runtime-request-timeout=5m\n/usr/libexec/crio/conmon -s -c 014ba57340bf8afd3b2ce6982b760ffac82ce1bc2861a2b02f8069c8becde304 -n k8s_POD_kube-apiserver-k8s-dev_kube-system_b00230a3af5f91e5d10118aee4d054c4_0 -u 014ba57340bf8afd3b2ce6982b760ffac82ce1bc2861a2b02f8069c8becde304 -r /usr/lib/cri-o-runc/sbin/runc -b /var/run/containers/s\ntorage/overlay-containers/014ba57340bf8afd3b2ce6982b760ffac82ce1bc2861a2b02f8069c8becde304/userdata -p /var/run/containers/storage/overlay-containers/014ba57340bf8afd3b2ce6982b760ffac82ce1bc2861a2b02f8069c8becde304/userdata/pidfile -l /var/log/pods/kube-system_kube-apiserver-k8s-dev_b00230a3af5f91e5d10118aee4d054c4/014ba57340bf8afd3b2ce6982b760ffac82ce1bc2861a2b02f8069c8becde304.log --exit-dir /var/run/crio/exits --socket-dir-path /var/run/crio --log-level error --runtime-arg --root=/run/runc\n")),(0,i.kt)("p",null,"\u53ef\u4ee5\u89c0\u5bdf\u5230"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"\u6709\u4e00\u500b\u540d\u70ba ",(0,i.kt)("inlineCode",{parentName:"li"},"crio")," \u7684 daemon \u904b\u884c"),(0,i.kt)("li",{parentName:"ol"},"kubelet \u7684\u53c3\u6578\u90fd\u4fee\u6539\u70ba\u53bb\u53d6 ",(0,i.kt)("inlineCode",{parentName:"li"},"cri-o")," \u914d\u5408"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"crio")," \u672c\u8eab\u6703 ",(0,i.kt)("inlineCode",{parentName:"li"},"fork/exec")," \u4e00\u500b\u540d\u70ba ",(0,i.kt)("inlineCode",{parentName:"li"},"conmon")," \u7684 process \uff0c\u4e5f\u56e0\u70ba\u9019\u500b \u8ddf ",(0,i.kt)("inlineCode",{parentName:"li"},"kubernetes")," \u662f\u76f4\u63a5\u914d\u5408\u7684\uff0c\u53ef\u4ee5\u770b\u5230\u5f88\u591a\u53c3\u6578\u90fd\u76f4\u63a5\u8ddf ",(0,i.kt)("inlineCode",{parentName:"li"},"kubernetes")," \u6709\u95dc\uff0c\u8b6c\u5982\u540d\u7a31\u662f ",(0,i.kt)("inlineCode",{parentName:"li"},"k8s_POD_kube-apiserver-k8s-dev_kube-system_b00230a3af5f91e5d10118aee4d054c4_0"),"\uff0c\u88e1\u9762\u63cf\u8ff0\u4e86\u5176 ",(0,i.kt)("inlineCode",{parentName:"li"},"pod")," \u7684\u540d\u7a31\uff0c\u9084\u6709",(0,i.kt)("inlineCode",{parentName:"li"},"namespace"),"\u3002")),(0,i.kt)("h1",{id:"summay"},"Summay"),(0,i.kt)("p",null,"\u5230\u9019\u908a\u70ba\u6b62\uff0c\u6211\u5011\u5df2\u7d93\u67b6\u8a2d\u904e\u57fa\u65bc ",(0,i.kt)("inlineCode",{parentName:"p"},"containerd")," \u8207 ",(0,i.kt)("inlineCode",{parentName:"p"},"cri-o")," \u7b49\u4e0d\u540c\u76f8\u5bb9\u65bc ",(0,i.kt)("inlineCode",{parentName:"p"},"CRI")," \u7684\u89e3\u6c7a\u65b9\u6848\uff0c\u552f\u4e00\u53ef\u60dc\u7684\u5c31\u662f\u6211\u5011\u7684\u80cc\u5f8c\u90fd\u662f\u57fa\u65bc ",(0,i.kt)("inlineCode",{parentName:"p"},"runc")," \u9019\u5957\u7d14 ",(0,i.kt)("inlineCode",{parentName:"p"},"container")," \u7684\u904b\u884c\u65b9\u5f0f\u3002"),(0,i.kt)("p",null,"\u56e0\u6b64\u63a5\u4e0b\u4f86\u7684\u6578\u5929\u6211\u5011\u5c07\u91dd\u5c0d\u9019\u4e00\u584a\u53bb\u63a2\u8a0e\u5176\u4ed6\u6eff\u8db3 ",(0,i.kt)("inlineCode",{parentName:"p"},"OCI Runtime")," \u537b\u4e0d\u540c\u65bc ",(0,i.kt)("inlineCode",{parentName:"p"},"runc")," \u7684\u89e3\u6c7a\u65b9\u6848\uff0c\u7279\u5225\u6703\u958b\u59cb\u8ddf ",(0,i.kt)("inlineCode",{parentName:"p"},"Virtual Machine")," \u727d\u626f\u5230\u4e00\u8d77\u3002"),(0,i.kt)("h1",{id:"\u53c3\u8003"},"\u53c3\u8003"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://cri-o.io"},"https://cri-o.io")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/cri-o/cri-o/blob/master/tutorials/kubeadm.md"},"https://github.com/cri-o/cri-o/blob/master/tutorials/kubeadm.md")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://www.opencontainers.org/blog/2018/06/20/cri-o-how-standards-power-a-container-runtime"},"https://www.opencontainers.org/blog/2018/06/20/cri-o-how-standards-power-a-container-runtime")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/#configure-cgroup-driver-used-by-kubelet-on-master-node"},"https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/#configure-cgroup-driver-used-by-kubelet-on-master-node")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://kubernetes.io/docs/setup/production-environment/container-runtimes/"},"https://kubernetes.io/docs/setup/production-environment/container-runtimes/"))))}k.isMDXComponent=!0}}]);